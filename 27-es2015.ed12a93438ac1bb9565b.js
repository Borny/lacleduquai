(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{YSFO:function(t,e,n){"use strict";n.r(e),n.d(e,"TakeAwayPageModule",function(){return k});var i=n("ofXK"),o=n("TEn/"),a=n("tyNb"),r=n("fXoL"),c=n("TTZi"),s=n("3Pt+"),l=n("xsb0"),m=n("kmnG"),b=n("qFsG"),d=n("iadO");function p(t,e){1&t&&r.Nb(0,"ion-spinner",4)}function g(t,e){if(1&t&&(r.Rb(0,"div",5),r.Rb(1,"p"),r.Ac(2,"Merci beaucoup !"),r.Qb(),r.Rb(3,"p"),r.Ac(4),r.Qb(),r.Rb(5,"p"),r.Ac(6," D\u2019ici l\xe0, portez-vous bien !"),r.Nb(7,"br"),r.Ac(8," A tr\xe8s vite,"),r.Nb(9,"br"),r.Ac(10," La Cl\xe9 du Quai. "),r.Qb(),r.Qb()),2&t){const t=r.dc();r.Bb(4),r.Dc(" Vous pourrez venir r\xe9cup\xe9rer votre commande le ",t.pickUpDay," ",t.pickUpMonth,", entre 16h30 et 18h30, au 49 rue du Mirail. ")}}function u(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",5),r.Rb(1,"p"),r.Ac(2,"D\xe9sol\xe9, une erreur s'est produite. Veuillez r\xe9essayer."),r.Qb(),r.Rb(3,"ion-button",6),r.Zb("click",function(){return r.qc(t),r.dc().onReload()}),r.Ac(4," Passer commande "),r.Qb(),r.Qb()}}function h(t,e){if(1&t&&(r.Rb(0,"p",34),r.Ac(1),r.Qb()),2&t){const t=r.dc(2);r.Bb(1),r.Cc(" (dont ",t.totalDeposit,"\u20ac de consigne) ")}}function f(t,e){if(1&t){const t=r.Sb();r.Rb(0,"form",7),r.Zb("ngSubmit",function(){return r.qc(t),r.dc().onSubmit()}),r.Rb(1,"ion-item",8),r.Rb(2,"ion-label",9),r.Ac(3,"Nom"),r.Qb(),r.Nb(4,"ion-input",10),r.Qb(),r.Rb(5,"p",11),r.Ac(6," Veuillez renseigner votre nom "),r.Qb(),r.Rb(7,"ion-item",8),r.Rb(8,"ion-label",9),r.Ac(9,"Pr\xe9nom"),r.Qb(),r.Nb(10,"ion-input",12),r.Qb(),r.Rb(11,"p",11),r.Ac(12," Veuillez renseigner votre pr\xe9nom "),r.Qb(),r.Rb(13,"ion-item",8),r.Rb(14,"ion-label",9),r.Ac(15,"T\xe9l\xe9phone"),r.Qb(),r.Nb(16,"ion-input",13),r.Qb(),r.Rb(17,"p",11),r.Ac(18," Veuillez renseigner votre num\xe9ro de t\xe9l\xe9phone "),r.Qb(),r.Rb(19,"div",14),r.Rb(20,"ion-label",15),r.Ac(21,"Quantit\xe9 (par bouteille de 1 litre):"),r.Qb(),r.Rb(22,"div",16),r.Rb(23,"ion-button",17),r.Zb("click",function(e){return r.qc(t),r.dc().removeQuantity(e)}),r.Nb(24,"ion-icon",18),r.Qb(),r.Rb(25,"ion-input",19),r.Zb("ionChange",function(e){return r.qc(t),r.dc().onQuantityChange(e)}),r.Qb(),r.Rb(26,"ion-button",17),r.Zb("click",function(e){return r.qc(t),r.dc().addQuantity(e)}),r.Nb(27,"ion-icon",20),r.Qb(),r.Qb(),r.Qb(),r.Rb(28,"div",8),r.Rb(29,"mat-form-field",21),r.Rb(30,"mat-label"),r.Ac(31,"Date de retrait :"),r.Qb(),r.Nb(32,"input",22),r.Nb(33,"mat-datepicker-toggle",23),r.Nb(34,"mat-datepicker",24,25),r.Rb(36,"p",26),r.Ac(37,"(entre 16h30 et 18h30)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(38,"div",27),r.Rb(39,"ion-label"),r.Ac(40,"J'ai mon propre contenant"),r.Qb(),r.Rb(41,"div",28),r.Rb(42,"ion-text"),r.Ac(43,"Non"),r.Qb(),r.Rb(44,"ion-toggle",29),r.Zb("ionChange",function(e){return r.qc(t),r.dc().toggleHasContainer(e)}),r.Qb(),r.Rb(45,"ion-text",30),r.Ac(46,"Oui"),r.Qb(),r.Qb(),r.Qb(),r.Rb(47,"p",31),r.Ac(48),r.Qb(),r.yc(49,h,2,1,"p",32),r.Rb(50,"ion-button",33),r.Ac(51," Commandez ! "),r.Qb(),r.Qb()}if(2&t){const t=r.pc(35),e=r.dc();r.jc("formGroup",e.chaiTakeAwayForm),r.Bb(5),r.jc("ngClass",e.chaiTakeAwayForm.get("lastName").invalid&&e.chaiTakeAwayForm.get("lastName").touched?"show-error":""),r.Bb(6),r.jc("ngClass",e.chaiTakeAwayForm.get("firstName").invalid&&e.chaiTakeAwayForm.get("firstName").touched?"show-error":""),r.Bb(6),r.jc("ngClass",e.chaiTakeAwayForm.get("phone").invalid&&e.chaiTakeAwayForm.get("phone").touched?"show-error":""),r.Bb(6),r.jc("disabled",e.quantity<=1),r.Bb(2),r.jc("value",e.quantity),r.Bb(1),r.jc("disabled",e.quantity>=4),r.Bb(6),r.jc("min",e.minDateFilter)("max",e.maxDateFilter)("matDatepickerFilter",e.dateFilter)("matDatepicker",t),r.Bb(1),r.jc("for",t),r.Bb(11),r.jc("checked",e.hasContainer),r.Bb(1),r.jc("color",e.hasContainer?"primary":""),r.Bb(3),r.Cc("Total: ",e.totalPrice,"\u20ac"),r.Bb(1),r.jc("ngIf",!e.hasContainer),r.Bb(1),r.jc("disabled",e.chaiTakeAwayForm.invalid)}}let _=(()=>{class t{constructor(t){this.takeAwayService=t,this.isLoading=!1,this.formSentSuccess=!1,this.formSentFail=!1,this.hideForm=!1,this.showForm=!1,this.price=8,this.totalPrice=8,this.oneLiterPrice=8,this.depositAmount=3,this.totalDeposit=3,this.orderQuantity=1,this.hasContainer=!1,this.quantity=1,this.quantities=["1 litre","2 litres","3 litres","4 litres"]}ngOnInit(){this._initChaiForm(),this._setMinMaxDates(),this._getTotalPrice()}onSubmit(){this.isLoading=!0,this.hideForm=!0;const t=this.chaiTakeAwayForm.value,e=Object.assign(Object.assign({},t),{price:this.price,totalPrice:this.totalPrice,totalDeposit:this.totalDeposit});this.pickUpDay=t.pickUpDate.getDate(),this.pickUpMonth=new Intl.DateTimeFormat("fr-FR",{month:"long"}).format(t.pickUpDate),this.takeAwayService.createChaiTakeAwayOrder(e).subscribe(t=>{this.isLoading=!1,this.formSentSuccess=!0,this.chaiTakeAwayForm.reset()},t=>{this.isLoading=!1,this.formSentFail=!0})}onToggleForm(){this.showForm=!this.showForm}onReload(){location.reload()}toggleHasContainer(t){this.hasContainer=!this.hasContainer,this._getTotalPrice()}dateFilter(t){const e=(t||new Date).getDay();return 0!==e&&1!==e&&3!==e&&5!==e&&6!==e}onQuantityChange(t){this.price=this.oneLiterPrice*t.detail.value,this.orderQuantity=t.detail.value,this._getTotalPrice()}removeQuantity(t){this.quantity--}addQuantity(t){this.quantity++}_initChaiForm(){this.chaiTakeAwayForm=new s.j({lastName:new s.g(null,s.x.required),firstName:new s.g(null,s.x.required),phone:new s.g(null,s.x.required),quantity:new s.g(1,s.x.required),hasOwnContainer:new s.g(!1,s.x.required),pickUpDate:new s.g(null,s.x.required)})}_setMinMaxDates(){const t=(new Date).getFullYear();this.minDateFilter=new Date,this.maxDateFilter=new Date(t+0,11,31)}_getTotalPrice(){this.hasContainer?(this.totalPrice=this.price,this.totalDeposit=0):(this.totalDeposit=this.depositAmount*this.orderQuantity,this.totalPrice=this.price+this.totalDeposit)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(l.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["chai-take-away"]],decls:6,vars:4,consts:[[1,"form__container"],["name","crescent","color","primary",4,"ngIf"],["class","form__response",4,"ngIf"],["class","take-away-form",3,"formGroup","ngSubmit",4,"ngIf"],["name","crescent","color","primary"],[1,"form__response"],["type","button","color","primary",3,"click"],[1,"take-away-form",3,"formGroup","ngSubmit"],[1,"form-control"],["position","floating"],["type","text","name","lastName","formControlName","lastName","required",""],[1,"error-message",3,"ngClass"],["type","text","name","firstName","formControlName","firstName","required",""],["type","text","name","phone","formControlName","phone","required",""],[1,"form-control","quantity__container"],[1,"label"],[1,"quantity__form"],["size","small",3,"disabled","click"],["name","remove"],["formControlName","quantity",1,"input",3,"value","ionChange"],["name","add"],["appearance","fill",1,"form__calendar"],["matInput","","formControlName","pickUpDate","disabled","",3,"min","max","matDatepickerFilter","matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],[1,"font-sm"],[1,"slide-toggle__section"],[1,"slide-toggle__container"],["formControlName","hasOwnContainer",1,"slide-toggle__input",3,"checked","ionChange"],[3,"color"],[1,"text-center","price"],["class","text-center",4,"ngIf"],["type","submit","color","primary",1,"submit-btn",3,"disabled"],[1,"text-center"]],template:function(t,e){1&t&&(r.Rb(0,"ion-card",0),r.Rb(1,"ion-card-content"),r.yc(2,p,1,0,"ion-spinner",1),r.yc(3,g,11,2,"div",2),r.yc(4,u,5,0,"div",2),r.yc(5,f,52,17,"form",3),r.Qb(),r.Qb()),2&t&&(r.Bb(2),r.jc("ngIf",e.isLoading),r.Bb(1),r.jc("ngIf",e.formSentSuccess),r.Bb(1),r.jc("ngIf",e.formSentFail),r.Bb(1),r.jc("ngIf",!e.isLoading&&!e.hideForm))},directives:[o.h,o.i,i.m,o.G,o.f,s.y,s.r,s.k,o.s,o.t,o.r,o.W,s.q,s.i,s.w,i.k,o.q,m.c,m.f,b.b,s.c,d.b,d.d,m.g,d.a,o.K,o.N,o.a],styles:['@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap");@import url("https://fonts.googleapis.com/css2?family=Oswald&display=swap");.spinner[_ngcontent-%COMP%]{padding:5rem 0}.heading[_ngcontent-%COMP%]{color:#ffde00;text-align:center}.form__container[_ngcontent-%COMP%]{margin:0 auto}.form__container[_ngcontent-%COMP%], .form__response[_ngcontent-%COMP%]{display:flex;flex-flow:column;justify-content:center;align-items:center}.form__response[_ngcontent-%COMP%]{text-align:center}.form__response[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 auto .5rem}.take-away-form[_ngcontent-%COMP%]{display:flex;flex-flow:column;justify-content:center;width:100%}.form-control[_ngcontent-%COMP%], .form__calendar[_ngcontent-%COMP%]{width:100%}.form__calendar[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%], .form__calendar[_ngcontent-%COMP%]   mat-datepicker-toggle[_ngcontent-%COMP%]{color:#5dbeba}.form__calendar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.quantity__container[_ngcontent-%COMP%]{width:100%;margin:1rem 0}.quantity__container[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;margin:0 0 .5rem}.quantity__form[_ngcontent-%COMP%]{display:flex;align-items:center}.quantity__form[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}.slide-toggle__section[_ngcontent-%COMP%]{display:flex;flex-flow:column;margin:0 0 1rem}.slide-toggle__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly}.slide-toggle__input[_ngcontent-%COMP%]{margin:.5rem 0}.price[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:1.1rem;border-bottom:2px solid #5dbeba;border-top:2px solid #5dbeba;padding:.5rem;color:#5dbeba}.submit-btn[_ngcontent-%COMP%]{margin:1rem auto 2rem}']}),t})();const y=[{path:"",component:(()=>{class t{constructor(){this.HEADER_TITLE="A Emporter",this.TITLE="Notre d\xe9licieux th\xe9 Cha\xef \xe0 emporter"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-take-away"]],decls:22,vars:2,consts:[[3,"headerTitle"],[1,"ion-no-padding"],["size","12","size-lg","8",1,"ion-padding"],[1,"title-xl"],[1,"main-container"],[1,"chai-card"],["src","./assets/img/chai-ingredients.jpg"],[1,"chai-card__content"],[1,"chai-form"],["size","12","size-lg","4",1,"ion-no-padding","ion-hide-lg-down"],[1,"take-away__image"]],template:function(t,e){1&t&&(r.Nb(0,"ion-header-component",0),r.Rb(1,"ion-content"),r.Rb(2,"ion-grid",1),r.Rb(3,"ion-row"),r.Rb(4,"ion-col",2),r.Rb(5,"h1",3),r.Ac(6),r.Qb(),r.Rb(7,"div",4),r.Rb(8,"ion-card",5),r.Nb(9,"img",6),r.Rb(10,"ion-card-content"),r.Rb(11,"h2"),r.Ac(12,"Commandez votre Cha\xef v\xe9g\xe9tal"),r.Qb(),r.Rb(13,"p",7),r.Ac(14," Nous le pr\xe9parons avec des \xe9pices et du gingembre frais, ce qui lui donne tant de go\xfbt! "),r.Qb(),r.Rb(15,"p",7),r.Ac(16," Passez le r\xe9cup\xe9rer le mardi ou le jeudi entre 16h30 et 18h30. "),r.Qb(),r.Rb(17,"p",7),r.Ac(18,"\xc7a se cong\xe8le aussi tr\xe8s bien !"),r.Qb(),r.Qb(),r.Qb(),r.Nb(19,"chai-take-away",8),r.Qb(),r.Qb(),r.Rb(20,"ion-col",9),r.Nb(21,"div",10),r.Qb(),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.jc("headerTitle",e.HEADER_TITLE),r.Bb(6),r.Bc(e.TITLE))},directives:[c.a,o.n,o.o,o.D,o.m,o.h,o.i,_],styles:['@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap");@import url("https://fonts.googleapis.com/css2?family=Oswald&display=swap");.title-xl[_ngcontent-%COMP%]{margin:0 auto 2rem!important}@media (min-width:768px){.main-container[_ngcontent-%COMP%]{display:flex}}.chai-card[_ngcontent-%COMP%]{flex:1;margin:0;background:#5dbeba;color:#fff}.chai-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700}.chai-card__content[_ngcontent-%COMP%], .chai-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 1rem}.chai-form[_ngcontent-%COMP%]{display:block;flex:1;margin:2rem 0 0}@media (min-width:768px){.chai-form[_ngcontent-%COMP%]{margin:0;padding:0 1rem}}.take-away__image[_ngcontent-%COMP%]{width:100%;height:100%;background-image:url(come-outside.50a32d13e158b04b8a3a.jpg);background-repeat:no-repeat;background-position:-340px;background-size:auto 100%}']}),t})()},{path:"a-emporter",redirectTo:"",pathMatch:"full"}];let C=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[a.k.forChild(y)],a.k]}),t})();var w=n("PI13");let P=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[i.b,s.v,o.P,w.a]]}),t})();var Q=n("PCNd");let k=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[i.b,o.P,C,P,Q.a]]}),t})()}}]);