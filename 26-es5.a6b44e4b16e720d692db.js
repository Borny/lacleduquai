!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{FPIi:function(o,i,t){"use strict";t.r(i),t.d(i,"PreSubscriptionPageModule",function(){return F});var r=t("ofXK"),s=t("3Pt+"),a=t("TEn/"),c=t("tyNb"),l=t("xvI5"),b=t("DsUL"),u=t("fXoL"),m=t("HtUY"),d=t("wzJV");function p(e,n){1&e&&u.Nb(0,"ion-spinner",7)}function f(e,n){1&e&&(u.Rb(0,"div",8),u.Rb(1,"p"),u.Ac(2," Merci beaucoup ! Votre pr\xe9-inscription a bien \xe9t\xe9 prise en compte. "),u.Qb(),u.Rb(3,"p"),u.Ac(4,"Elle sera finalis\xe9e au moment de votre r\xe8glement."),u.Qb(),u.Rb(5,"ul"),u.Rb(6,"li"),u.Ac(7,"- En CB : paiement au comptoir de l\u2019association"),u.Qb(),u.Rb(8,"li"),u.Ac(9," - Par ch\xe8que : \xe0 d\xe9poser au comptoir lors de votre prochain passage "),u.Qb(),u.Rb(10,"li"),u.Ac(11," - En esp\xe8ces : \xe0 d\xe9poser au comptoir lors de votre prochain passage "),u.Qb(),u.Qb(),u.Rb(12,"p"),u.Ac(13,"A tr\xe8s bient\xf4t !"),u.Qb(),u.Rb(14,"p"),u.Ac(15,"L\u2019\xe9quipe de La Cl\xe9 du Quai"),u.Qb(),u.Qb())}function h(e,n){if(1&e){var o=u.Sb();u.Rb(0,"div",8),u.Rb(1,"p"),u.Ac(2,"D\xe9sol\xe9, une erreur s'est produite. Veuillez r\xe9essayer."),u.Qb(),u.Rb(3,"ion-button",9),u.Zb("click",function(){return u.qc(o),u.dc().onReload()}),u.Ac(4," S'inscrire "),u.Qb(),u.Qb()}}function g(e,n){if(1&e&&(u.Rb(0,"ion-item",23),u.Rb(1,"ion-label"),u.Ac(2),u.Qb(),u.Nb(3,"ion-checkbox",31),u.Qb()),2&e){var o=n.index,i=u.dc(2);u.Bb(2),u.Bc(i.courses[o].detail),u.Bb(1),u.kc("formControlName",o)}}function v(e,n){1&e&&(u.Rb(0,"div"),u.Rb(1,"p",32),u.Ac(2," Vous b\xe9n\xe9ficiez, en tant qu\u2019ancien \xe9l\xe8ve, d\u2019une r\xe9duction de 10% sur le montant de l\u2019inscription aux cours hebdomadaires. "),u.Qb(),u.Rb(3,"ion-item",33),u.Rb(4,"ion-label",14),u.Ac(5,"A quel atelier \xe9tiez-vous inscrit ?"),u.Nb(6,"atom-asterisk"),u.Qb(),u.Nb(7,"ion-textarea",34),u.Qb(),u.Qb())}function R(e,n){if(1&e&&(u.Rb(0,"ion-item",23),u.Rb(1,"ion-label"),u.Ac(2),u.Qb(),u.Nb(3,"ion-radio",35),u.Qb()),2&e){var o=n.$implicit;u.Bb(2),u.Cc(" ",o," "),u.Bb(1),u.kc("value",o)}}function Q(e,n){if(1&e){var o=u.Sb();u.Rb(0,"form",10),u.Zb("ngSubmit",function(){return u.qc(o),u.dc().onSubmit()}),u.Rb(1,"div",11),u.Rb(2,"p",12),u.Ac(3,"Informations"),u.Qb(),u.Rb(4,"div",13),u.Rb(5,"ion-item"),u.Rb(6,"ion-label",14),u.Ac(7,"Nom"),u.Nb(8,"atom-asterisk"),u.Qb(),u.Nb(9,"ion-input",15),u.Qb(),u.Rb(10,"p",16),u.Ac(11," Veuillez renseigner votre nom "),u.Qb(),u.Rb(12,"ion-item"),u.Rb(13,"ion-label",14),u.Ac(14,"Pr\xe9nom"),u.Nb(15,"atom-asterisk"),u.Qb(),u.Nb(16,"ion-input",17),u.Qb(),u.Rb(17,"p",16),u.Ac(18," Veuillez renseigner votre pr\xe9nom "),u.Qb(),u.Rb(19,"ion-item"),u.Rb(20,"ion-label",14),u.Ac(21,"T\xe9l\xe9phone"),u.Nb(22,"atom-asterisk"),u.Qb(),u.Nb(23,"ion-input",18),u.Qb(),u.Rb(24,"p",16),u.Ac(25," Veuillez renseigner votre num\xe9ro de t\xe9l\xe9phone "),u.Qb(),u.Rb(26,"ion-item"),u.Rb(27,"ion-label",14),u.Ac(28,"Email"),u.Nb(29,"atom-asterisk"),u.Qb(),u.Nb(30,"ion-input",19),u.Qb(),u.Rb(31,"p",16),u.Ac(32," Veuillez renseigner votre email "),u.Qb(),u.Qb(),u.Qb(),u.Rb(33,"div",11),u.Rb(34,"p",12),u.Ac(35,"Cours"),u.Qb(),u.Rb(36,"div",13),u.Rb(37,"ion-list",20),u.Rb(38,"ion-list-header"),u.Rb(39,"ion-label"),u.Ac(40," Choisissez un cours"),u.Nb(41,"atom-asterisk"),u.Qb(),u.Qb(),u.yc(42,g,4,2,"ion-item",21),u.Qb(),u.Qb(),u.Qb(),u.Rb(43,"div",11),u.Rb(44,"p",12),u.Ac(45,"Tarifs"),u.Qb(),u.Rb(46,"div",22),u.Rb(47,"ion-list"),u.Rb(48,"ion-list-header"),u.Rb(49,"ion-label"),u.Ac(50,"Tarifs annuels pour les cours hebdomadaires :"),u.Qb(),u.Qb(),u.Rb(51,"ion-item",23),u.Rb(52,"ion-label"),u.Ac(53,"- 1 cours/ semaine (2h) / 350\u20ac"),u.Qb(),u.Qb(),u.Rb(54,"ion-item",23),u.Rb(55,"ion-label"),u.Ac(56,"- 2 cours/ semaine (2h + 2h) / 630\u20ac"),u.Qb(),u.Qb(),u.Rb(57,"ion-item",23),u.Rb(58,"ion-label"),u.Ac(59,"- Cie Amateur (2h30) / 400\u20ac"),u.Qb(),u.Qb(),u.Qb(),u.Rb(60,"ion-item",24),u.Rb(61,"ion-label"),u.Ac(62," Etiez-vous inscrit \xe0 un atelier aupr\xe8s de La Cl\xe9 du Quai l\u2019ann\xe9e derni\xe8re ?"),u.Qb(),u.Qb(),u.Rb(63,"div",25),u.Rb(64,"ion-text"),u.Ac(65,"Non"),u.Qb(),u.Rb(66,"ion-toggle",26),u.Zb("ionChange",function(e){return u.qc(o),u.dc().toggleShowDiscountText(e.detail.checked)}),u.Qb(),u.Rb(67,"ion-text",27),u.Ac(68,"Oui"),u.Qb(),u.Qb(),u.yc(69,v,8,0,"div",28),u.Qb(),u.Qb(),u.Rb(70,"div",11),u.Rb(71,"p",12),u.Ac(72,"Mode de paiement"),u.Qb(),u.Rb(73,"div",13),u.Rb(74,"ion-radio-group",29),u.Rb(75,"ion-list-header"),u.Rb(76,"ion-label"),u.Ac(77,"Quel est votre mode de paiement favori ?"),u.Nb(78,"atom-asterisk"),u.Qb(),u.Qb(),u.yc(79,R,4,2,"ion-item",21),u.Qb(),u.Qb(),u.Qb(),u.Rb(80,"ion-button",30),u.Ac(81," Valider "),u.Qb(),u.Qb()}if(2&e){var i=u.dc();u.kc("formGroup",i.subscriptionForm),u.Bb(10),u.kc("ngClass",i.subscriptionForm.get("lastName").invalid&&i.subscriptionForm.get("lastName").touched?"show-error":""),u.Bb(7),u.kc("ngClass",i.subscriptionForm.get("firstName").invalid&&i.subscriptionForm.get("firstName").touched?"show-error":""),u.Bb(7),u.kc("ngClass",i.subscriptionForm.get("phone").invalid&&i.subscriptionForm.get("phone").touched?"show-error":""),u.Bb(7),u.kc("ngClass",i.subscriptionForm.get("email").invalid&&i.subscriptionForm.get("email").touched?"show-error":""),u.Bb(11),u.kc("ngForOf",i.coursesFormArray.controls),u.Bb(25),u.kc("color",i.isPreviouslyEnrolled?"primary":""),u.Bb(2),u.kc("ngIf",i.isPreviouslyEnrolled),u.Bb(10),u.kc("ngForOf",i.paymentMethods),u.Bb(1),u.kc("disabled",i.subscriptionForm.invalid)}}var C,_,y,w=[{path:"",component:(C=function(){function o(n){e(this,o),this.subscriptionService=n,this.isLoading=!1,this.formSentSuccess=!1,this.formSentFail=!1,this.hideForm=!1,this.isPreviouslyEnrolled=!1,this.subscriptionForm=new s.j({}),this.paymentMethods=[l.a.FIRST,l.a.SECOND,l.a.THIRD],this.courses=[{id:"1",detail:"Lundi 18h30-20h30 : Th\xe9\xe2tre avec J\xe9r\xf4me Chambon",name:"lundi 18h30"},{id:"2",detail:"Lundi 20h30-22h30 : Th\xe9\xe2tre avec J\xe9r\xf4me Chambon",name:"lundi 20h30"},{id:"3",detail:"Mardi 18h30-20h30 : Danse contemporaine et improvisation avec C\xf4me Tanguy",name:"mardi 18h30"},{id:"4",detail:"Mardi 20h30-23h : Cie Amateur avec C\xf4me Tanguy (danse-th\xe9\xe2tre)",name:"mardi 20h30"},{id:"5",detail:"Mercredi 18h30-20h30 : Danse-th\xe9\xe2tre avec C\xf4me Tanguy",name:"mercredi 18h30"},{id:"6",detail:"Mercredi 20h30-22h30 : Danse contemporaine et improvisation avec C\xf4me Tanguy",name:"mercredi 20h30"},{id:"7",detail:"Jeudi 18h30-20h30 : Th\xe9\xe2tre avec Laurine Clochard et Juliette Morin",name:"jeudi 18h30"},{id:"8",detail:"Jeudi 20h30-22h30 : Th\xe9\xe2tre avec Julie Hercberg",name:"jeudi 20h30"}],this.workshops=[{id:"nov7",date:"7 novembre"},{id:"dec5",date:"5 d\xe9cembre"},{id:"jan16",date:"16 janvier"},{id:"fev6",date:"6 f\xe9vrier"},{id:"mar6",date:"6 mars"},{id:"apr17",date:"17 avril"},{id:"may15",date:"15 mai"}]}var i,t,r;return i=o,(t=[{key:"ngOnInit",value:function(){this.subscriptionForm.addControl("lastName",new s.g(null,s.x.required)),this.subscriptionForm.addControl("firstName",new s.g(null,s.x.required)),this.subscriptionForm.addControl("phone",new s.g(null,s.x.required)),this.subscriptionForm.addControl("email",new s.g(null,[s.x.required,s.x.email])),this.subscriptionForm.addControl("courses",new s.e([],Object(b.a)())),this.subscriptionForm.addControl("workshops",new s.e([])),this.subscriptionForm.addControl("previouslyEnrolled",new s.g(!1,s.x.required)),this.subscriptionForm.addControl("paymentMethod",new s.g(null,s.x.required)),this._addControl("courses",this.courses,!1),this._addControl("workshops",this.workshops,!1)}},{key:"onSubmit",value:function(){var e=this;this.isLoading=!0,this.hideForm=!0;var n=this.subscriptionForm.value.courses.map(function(n,o){return n?e.courses[o].name:null}).filter(function(e){return null!==e}),o=this.subscriptionForm.value.workshops.map(function(n,o){return n?e.workshops[o].date:null}).filter(function(e){return null!==e}),i=this.subscriptionForm.value;i.courses=n,i.workshops=o,this.subscriptionService.createMember(i).subscribe(function(n){e.isLoading=!1,e.formSentSuccess=!0,e.subscriptionForm.reset()},function(n){e.isLoading=!1,e.formSentFail=!0})}},{key:"toggleShowDiscountText",value:function(e){this.isPreviouslyEnrolled=e,e?this.subscriptionForm.addControl("previousCourseInfo",new s.g(null)):this.subscriptionForm.removeControl("previousCourseInfo")}},{key:"onReload",value:function(){location.reload()}},{key:"_addControl",value:function(e,n,o){var i=this;n.forEach(function(){i.subscriptionForm.controls[e].push(new s.g(null))})}},{key:"coursesFormArray",get:function(){return this.subscriptionForm.get("courses")}},{key:"workshopsFormArray",get:function(){return this.subscriptionForm.get("workshops")}}])&&n(i.prototype,t),r&&n(i,r),o}(),C.\u0275fac=function(e){return new(e||C)(u.Mb(m.a))},C.\u0275cmp=u.Gb({type:C,selectors:[["app-pre-subscription"]],decls:15,vars:4,consts:[[1,"ion-no-padding"],[1,"no-padding"],[1,"ion-padding-vertical"],[1,"form__container"],["name","crescent",4,"ngIf"],["class","form__response",4,"ngIf"],["class","subscription-form",3,"formGroup","ngSubmit",4,"ngIf"],["name","crescent"],[1,"form__response"],["type","button","color","primary",3,"click"],[1,"subscription-form",3,"formGroup","ngSubmit"],[1,"form-section"],[1,"form-section__title"],[1,"form-section__content"],["position","floating"],["type","text","name","lastName","formControlName","lastName","required",""],[1,"error-message",3,"ngClass"],["type","text","name","firstName","formControlName","firstName","required",""],["type","text","name","phone","formControlName","phone","required",""],["type","email","name","email","formControlName","email","required",""],["formArrayName","courses"],["lines","none",4,"ngFor","ngForOf"],[1,"form-section__content","form-section__content-price"],["lines","none"],["lines","none",1,"slide-toggle__section"],[1,"slide-toggle__container"],["formControlName","previouslyEnrolled",1,"slide-toggle__input",3,"ionChange"],[3,"color"],[4,"ngIf"],["aria-label","Selectionnez un mode de paiement","formControlName","paymentMethod",1,"radio-group"],["type","submit","color","primary",1,"submit-btn",3,"disabled"],["slot","start",3,"formControlName"],[1,"color-primary","italic"],[1,"previous-course-detail"],["name","previousCouseInfo","formControlName","previousCourseInfo"],["slot","start",3,"value"]],template:function(e,n){1&e&&(u.Rb(0,"ion-content"),u.Rb(1,"ion-grid",0),u.Rb(2,"ion-row"),u.Rb(3,"ion-col",1),u.Rb(4,"h1"),u.Ac(5," Formulaire de pr\xe9-inscription "),u.Nb(6,"br"),u.Ac(7," La Cl\xe9 Du Quai saison 2020/2021 "),u.Qb(),u.Qb(),u.Qb(),u.Rb(8,"ion-row"),u.Rb(9,"ion-col",2),u.Rb(10,"ion-card",3),u.yc(11,p,1,0,"ion-spinner",4),u.yc(12,f,16,0,"div",5),u.yc(13,h,5,0,"div",5),u.yc(14,Q,82,10,"form",6),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&e&&(u.Bb(11),u.kc("ngIf",n.isLoading),u.Bb(1),u.kc("ngIf",n.formSentSuccess),u.Bb(1),u.kc("ngIf",n.formSentFail),u.Bb(1),u.kc("ngIf",!n.isLoading&&!n.hideForm))},directives:[a.n,a.p,a.F,a.m,a.h,r.m,a.I,a.f,s.y,s.s,s.k,a.t,a.u,d.a,a.s,a.Z,s.r,s.i,s.w,r.k,a.v,s.f,a.w,r.l,a.M,a.a,a.P,a.C,a.Y,a.l,a.N,a.B,a.W],styles:['@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap");@import url("https://fonts.googleapis.com/css2?family=Oswald&display=swap");h1[_ngcontent-%COMP%]{padding:1rem;text-align:center;background:#5dbeba;color:#fff;font-family:Poppins,Roboto,sans-serif}@media (min-width:768px){h1[_ngcontent-%COMP%]{padding:3rem}}.form__container[_ngcontent-%COMP%]{max-width:768px;margin:0 auto;min-height:450px}.form__container[_ngcontent-%COMP%], .form__response[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.form__response[_ngcontent-%COMP%]{flex-flow:column}.form__response[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .form__response[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0 auto 2rem}.subscription-form[_ngcontent-%COMP%]{align-items:center}.form-section[_ngcontent-%COMP%], .subscription-form[_ngcontent-%COMP%]{display:flex;flex-flow:column;justify-content:center;width:100%}.form-section[_ngcontent-%COMP%]{margin:0 auto 1rem}.form-section__title[_ngcontent-%COMP%]{width:100%;padding:.5rem 0 .5rem 1rem;background:#5dbeba;color:#fff}.form-section__content[_ngcontent-%COMP%]{padding:0;display:flex;flex-flow:column}@media (min-width:768px){.form-section__content[_ngcontent-%COMP%]{padding:0 0 0 3rem}}@media (min-width:768px){.form-section__content-price[_ngcontent-%COMP%]{padding:0 3rem}}.form-section__content-price[_ngcontent-%COMP%]   .previous-course-toggle[_ngcontent-%COMP%]{margin:0 0 0 1rem}.form-section__content-price[_ngcontent-%COMP%]   .previous-course-detail[_ngcontent-%COMP%]{width:100%;max-width:300px}.slide-toggle__section[_ngcontent-%COMP%]{display:flex;flex-flow:column}.slide-toggle__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding:0 0 0 1rem}.submit-btn[_ngcontent-%COMP%]{margin:1rem auto 2rem}']}),C)},{path:"pre-inscription",redirectTo:"",pathMatch:"full"}],k=((_=function n(){e(this,n)}).\u0275mod=u.Kb({type:_}),_.\u0275inj=u.Jb({factory:function(e){return new(e||_)},imports:[[c.k.forChild(w)],c.k]}),_),A=t("ox1a"),F=((y=function n(){e(this,n)}).\u0275mod=u.Kb({type:y}),y.\u0275inj=u.Jb({factory:function(e){return new(e||y)},imports:[[r.b,s.v,a.R,k,A.a]]}),y)}}])}();