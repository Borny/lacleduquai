<!-- Loader -->
<ion-spinner
	*ngIf="isLoading"
	class="loader"
	name="crescent"
	color="primary"
></ion-spinner>

<!-- News error -->
<div *ngIf="chalkboardError">
	<p>Impossible de récupérer l'ardoise'</p>
	<ion-button color="warning" (click)="onClose()">Fermer</ion-button>
</div>

<!-- News info -->
<div *ngIf="showDialog">
	<h2 class="color-primary" mat-dialog-title>
		{{ CHALKBOARD_TITLE }}
	</h2>
	<div mat-dialog-content>
		<form
			class="chalkboard-edition-form"
			[formGroup]="chalkboardEditionForm"
			(ngSubmit)="onSubmit()"
		>
			<ion-list>
				<!-- Main Course -->
				<ion-item>
					<ion-label position="floating">Plat du jour</ion-label>
					<ion-input
						type="text"
						name="mainCourse"
						formControlName="mainCourse"
						required
					></ion-input>
				</ion-item>
				<p
					class="error-message"
					[ngClass]="
						chalkboardEditionForm.get('mainCourse').invalid &&
						chalkboardEditionForm.get('mainCourse').touched
							? 'show-error'
							: ''
					"
				>
					Veuillez renseigner un plat du jour
				</p>

				<!-- Main Course Side -->
				<ion-item>
					<ion-label position="floating">Complément</ion-label>
					<ion-input
						type="text"
						name="mainCourseSide"
						formControlName="mainCourseSide"
					></ion-input>
				</ion-item>

				<!-- MainCourse Price -->
				<ion-item>
					<ion-label position="floating">Prix plat du jour</ion-label>
					<ion-input
						type="number"
						min="0"
						name="mainCoursePrice"
						formControlName="mainCoursePrice"
					></ion-input>
				</ion-item>

				<!-- Dessert -->
				<ion-item>
					<ion-label position="floating">Dessert</ion-label>
					<ion-input
						type="text"
						name="dessert"
						formControlName="dessert"
					></ion-input>
				</ion-item>

				<!-- Dessert Price -->
				<ion-item>
					<ion-label position="floating">Prix dessert</ion-label>
					<ion-input
						type="number"
						min="0"
						name="dessertPrice"
						formControlName="dessertPrice"
					></ion-input>
				</ion-item>
			</ion-list>
		</form>
	</div>

	<!-- CTAs -->
	<div mat-dialog-actions align="end">
		<ion-button color="warning" (click)="onCancel()">Annuler</ion-button>
		<ion-button
			[disabled]="
				chalkboardEditionForm.invalid || chalkboardEditionForm.pristine
			"
			color="primary"
			[mat-dialog-close]="{ chalkboard: chalkboard, action: CONFIRM }"
			(click)="onSubmit()"
		>
			Modifier
		</ion-button>
	</div>
</div>
