"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6078],{6078:(M,u,r)=>{r.r(u),r.d(u,{CafeSubscriptionPageModule:()=>S});var l=r(6019),o=r(9133),i=r(87),m=r(3174),p=r(2480),e=r(3668),f=r(9790),g=r(9947);function d(n,s){1&n&&e._UZ(0,"ion-spinner",7)}function b(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",8),e.TgZ(1,"p"),e._uU(2,"Merci, votre adh\xe9sion a bien \xe9t\xe9 prise en compte."),e.qZA(),e.TgZ(3,"ion-button",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().onReload()}),e._uU(4," Termin\xe9 ! "),e.qZA(),e.qZA()}}function _(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",8),e.TgZ(1,"p"),e._uU(2,"D\xe9sol\xe9, une erreur s'est produite. Veuillez r\xe9essayer."),e.qZA(),e.TgZ(3,"ion-button",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().onReload()}),e._uU(4," S'inscrire "),e.qZA(),e.qZA()}}function Z(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"form",11),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmit()}),e.TgZ(1,"ion-item",12),e.TgZ(2,"ion-label",13),e._uU(3,"Nom"),e._UZ(4,"atom-asterisk"),e.qZA(),e._UZ(5,"ion-input",14),e.qZA(),e.TgZ(6,"p",15),e._uU(7," Veuillez renseigner votre nom "),e.qZA(),e.TgZ(8,"ion-item",12),e.TgZ(9,"ion-label",13),e._uU(10,"Pr\xe9nom"),e._UZ(11,"atom-asterisk"),e.qZA(),e._UZ(12,"ion-input",16),e.qZA(),e.TgZ(13,"p",15),e._uU(14," Veuillez renseigner votre pr\xe9nom "),e.qZA(),e.TgZ(15,"ion-item",12),e.TgZ(16,"ion-label",13),e._uU(17,"Email"),e._UZ(18,"atom-asterisk"),e.qZA(),e._UZ(19,"ion-input",17),e.qZA(),e.TgZ(20,"p",15),e._uU(21," Veuillez renseigner votre email "),e.qZA(),e.TgZ(22,"ion-item",18),e._UZ(23,"ion-checkbox",19),e.TgZ(24,"ion-label",20),e._uU(25,"Je souhaite m'inscrire \xe0 la newsletter de "),e._UZ(26,"br"),e._uU(27," La Cl\xe9 du Quai"),e.qZA(),e.qZA(),e.TgZ(28,"p",21),e._uU(29,"Adh\xe9sion \xe0 prix libre"),e.qZA(),e.TgZ(30,"ion-button",22),e._uU(31," Valider "),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.subscriptionForm),e.xp6(6),e.Q6J("ngClass",t.subscriptionForm.get("lastName").invalid&&t.subscriptionForm.get("lastName").touched?"show-error":""),e.xp6(7),e.Q6J("ngClass",t.subscriptionForm.get("firstName").invalid&&t.subscriptionForm.get("firstName").touched?"show-error":""),e.xp6(7),e.Q6J("ngClass",t.subscriptionForm.get("email").invalid&&t.subscriptionForm.get("email").touched?"show-error":""),e.xp6(10),e.Q6J("disabled",t.subscriptionForm.invalid)}}const h=[{path:"",component:(()=>{class n{constructor(t){this.cafeSubscriptionService=t,this.isLoading=!1,this.formSentSuccess=!1,this.formSentFail=!1,this.hideForm=!1,this.subscriptionForm=new o.cw({})}ngOnInit(){this._onInitForm()}onSubmit(){this.isLoading=!0,this.hideForm=!0,console.log(this.subscriptionForm.value);const{firstName:t,lastName:a,email:c,newsletterSubscription:T}=this.subscriptionForm.value,x={firstName:t,lastName:a,email:c,newsletterSubscription:T,subscriptionDate:new Date,season:p.G.TWENTY_ONE};this.cafeSubscriptionService.postCafeSubscriptionForm(x).subscribe(F=>{this.isLoading=!1,this.formSentSuccess=!0,this.subscriptionForm.reset(),setTimeout(()=>{this.onReload()},1e4)},F=>{this.isLoading=!1,this.formSentFail=!0})}onReload(){location.reload()}_onInitForm(){this.subscriptionForm.addControl("lastName",new o.NI(null,o.kI.required)),this.subscriptionForm.addControl("firstName",new o.NI(null,o.kI.required)),this.subscriptionForm.addControl("email",new o.NI(null,[o.kI.required,o.kI.email])),this.subscriptionForm.addControl("newsletterSubscription",new o.NI(!1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.H))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cafe-subscription"]],decls:14,vars:4,consts:[[1,"ion-no-padding"],["size","12"],["size","12","size-sm","10","offset-sm","1"],[1,"form__container"],["name","crescent",4,"ngIf"],["class","form__response",4,"ngIf"],["class","subscription-form",3,"formGroup","ngSubmit",4,"ngIf"],["name","crescent"],[1,"form__response"],["color","primary","type","button",1,"btn",3,"click"],["type","button","color","primary",1,"btn",3,"click"],[1,"subscription-form",3,"formGroup","ngSubmit"],[1,"form-control"],["position","stacked",1,"label"],["type","text","name","lastName","formControlName","lastName","required","",1,"label"],[1,"error-message",3,"ngClass"],["type","text","name","firstName","formControlName","firstName","required","",1,"label"],["type","email","name","email","formControlName","email","required","",1,"label"],["lines","none",1,"checkbox__container"],["slot","start","formControlName","newsletterSubscription"],[1,"newsletter-checkbox-label"],[1,"price"],["type","submit","color","primary",1,"submit-btn",3,"disabled"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-content"),e.TgZ(1,"ion-grid",0),e.TgZ(2,"ion-row"),e.TgZ(3,"ion-col",1),e.TgZ(4,"h1"),e._uU(5,"Formulaire d'adh\xe9sion \xe0 l'association La Cl\xe9 Du Quai"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"ion-row"),e.TgZ(7,"ion-col",2),e.TgZ(8,"ion-card",3),e.TgZ(9,"ion-card-content"),e.YNc(10,d,1,0,"ion-spinner",4),e.YNc(11,b,5,0,"div",5),e.YNc(12,_,5,0,"div",5),e.YNc(13,Z,32,5,"form",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngIf",a.isLoading),e.xp6(1),e.Q6J("ngIf",a.formSentSuccess),e.xp6(1),e.Q6J("ngIf",a.formSentFail),e.xp6(1),e.Q6J("ngIf",!a.isLoading&&!a.hideForm))},directives:[i.W2,i.jY,i.Nd,i.wI,i.PM,i.FN,l.O5,i.PQ,i.YG,o._Y,o.JL,o.sg,i.Ie,i.Q$,g.y,i.pK,i.j9,o.JJ,o.u,o.Q7,l.mk,i.nz,i.w],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap";@import"https://fonts.googleapis.com/css2?family=Oswald&display=swap";[_nghost-%COMP%]{display:block;background:url(et-rien-ne-bouge.4d4c935edbcd66a9.jpg) center center}h1[_ngcontent-%COMP%]{padding:1rem;text-align:center;background:#5dbeba;color:#fff;font-family:"Poppins","Roboto",sans-serif}@media (min-width: 768px){h1[_ngcontent-%COMP%]{padding:3rem}}.form__container[_ngcontent-%COMP%]{margin:3rem auto 0;display:flex;justify-content:center;align-items:center;min-height:450px}.form__response[_ngcontent-%COMP%]{display:flex;flex-flow:column;justify-content:center;align-items:center}.form__response[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 auto 2rem;font-size:1.5rem;text-align:center}.form__response[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:1.5rem}.subscription-form[_ngcontent-%COMP%]{display:flex;flex-flow:column;align-items:center;justify-content:center}.subscription-form[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1.5rem}.subscription-form[_ngcontent-%COMP%]   .error-message.show-error[_ngcontent-%COMP%]{font-size:100%!important}.checkbox__container[_ngcontent-%COMP%]{margin:2rem auto;display:flex;width:100%}.checkbox__container[_ngcontent-%COMP%]   .newsletter-checkbox-label[_ngcontent-%COMP%]{white-space:normal;font-size:1.5rem}.form-control[_ngcontent-%COMP%]{width:100%}.price[_ngcontent-%COMP%]{color:#5dbeba;font-weight:bold;font-size:1.5rem}.submit-btn[_ngcontent-%COMP%]{margin:1rem auto 2rem;font-size:1.5rem}']}),n})()},{path:"cafe-adhesion",redirectTo:"",pathMatch:"full"}];let C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.Bz.forChild(h)],m.Bz]}),n})();var P=r(6828);let S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.ez,o.UX,i.Pc,C,P.p]]}),n})()}}]);