!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{FPIi:function(o,i,r){"use strict";r.r(i),r.d(i,"PreSubscriptionPageModule",function(){return k});var t=r("ofXK"),s=r("3Pt+"),c=r("TEn/"),a=r("tyNb"),u=r("xvI5"),l=r("DsUL"),b=r("fXoL"),m=r("HtUY");function d(e,n){1&e&&b.Nb(0,"ion-spinner",5)}function p(e,n){1&e&&(b.Rb(0,"div",6),b.Rb(1,"p"),b.Ac(2," Merci beaucoup ! Votre pr\xe9-inscription a bien \xe9t\xe9 prise en compte. "),b.Qb(),b.Rb(3,"p"),b.Ac(4,"Elle sera finalis\xe9e au moment de votre r\xe8glement."),b.Qb(),b.Rb(5,"ul"),b.Rb(6,"li"),b.Ac(7,"- En CB : paiement au comptoir de l\u2019association"),b.Qb(),b.Rb(8,"li"),b.Ac(9," - Par ch\xe8que : \xe0 d\xe9poser au comptoir lors de votre prochain passage "),b.Qb(),b.Rb(10,"li"),b.Ac(11," - En esp\xe8ces : \xe0 d\xe9poser au comptoir lors de votre prochain passage "),b.Qb(),b.Qb(),b.Rb(12,"p"),b.Ac(13,"A tr\xe8s bient\xf4t !"),b.Qb(),b.Rb(14,"p"),b.Ac(15,"L\u2019\xe9quipe de La Cl\xe9 du Quai"),b.Qb(),b.Qb())}function f(e,n){if(1&e){var o=b.Sb();b.Rb(0,"div",6),b.Rb(1,"p"),b.Ac(2,"D\xe9sol\xe9, une erreur s'est produite. Veuillez r\xe9essayer."),b.Qb(),b.Rb(3,"ion-button",7),b.Zb("click",function(){return b.qc(o),b.dc().onReload()}),b.Ac(4," S'inscrire "),b.Qb(),b.Qb()}}function h(e,n){if(1&e&&(b.Rb(0,"li",27),b.Nb(1,"ion-checkbox",28),b.Rb(2,"p"),b.Ac(3),b.Qb(),b.Qb()),2&e){var o=n.index,i=b.dc(2);b.Bb(1),b.kc("formControlName",o),b.Bb(2),b.Bc(i.courses[o].detail)}}function g(e,n){1&e&&(b.Rb(0,"div"),b.Rb(1,"p",29),b.Ac(2," Vous b\xe9n\xe9ficiez, en tant qu\u2019ancien \xe9l\xe8ve, d\u2019une r\xe9duction de 10% sur le montant de l\u2019inscription aux cours hebdomadaires. "),b.Qb(),b.Rb(3,"p"),b.Ac(4,"A quel atelier \xe9tiez-vous inscrit l\u2019ann\xe9e derni\xe8re ?"),b.Qb(),b.Rb(5,"ion-item",30),b.Nb(6,"textarea",31),b.Qb(),b.Qb())}function v(e,n){if(1&e&&(b.Rb(0,"ion-item"),b.Nb(1,"ion-radio",32),b.Rb(2,"ion-label"),b.Ac(3),b.Qb(),b.Qb()),2&e){var o=n.$implicit;b.Bb(1),b.kc("value",o),b.Bb(2),b.Cc(" ",o," ")}}function C(e,n){if(1&e){var o=b.Sb();b.Rb(0,"form",8),b.Zb("ngSubmit",function(){return b.qc(o),b.dc().onSubmit()}),b.Rb(1,"div",9),b.Rb(2,"p",10),b.Ac(3,"Informations"),b.Qb(),b.Rb(4,"div",11),b.Rb(5,"ion-item",12),b.Rb(6,"ion-label",13),b.Ac(7,"Nom"),b.Qb(),b.Nb(8,"ion-input",14),b.Qb(),b.Rb(9,"p",15),b.Ac(10," Veuillez renseigner votre nom "),b.Qb(),b.Rb(11,"ion-item",12),b.Rb(12,"ion-label"),b.Ac(13,"Pr\xe9nom"),b.Qb(),b.Nb(14,"ion-input",16),b.Rb(15,"p",15),b.Ac(16," Veuillez renseigner votre pr\xe9nom "),b.Qb(),b.Qb(),b.Rb(17,"ion-item",12),b.Rb(18,"ion-label"),b.Ac(19,"T\xe9l\xe9phone"),b.Qb(),b.Nb(20,"ion-input",17),b.Rb(21,"p",15),b.Ac(22," Veuillez renseigner votre num\xe9ro de t\xe9l\xe9phone "),b.Qb(),b.Qb(),b.Rb(23,"ion-item",12),b.Rb(24,"ion-label"),b.Ac(25,"Email"),b.Qb(),b.Nb(26,"ion-input",18),b.Rb(27,"p",15),b.Ac(28," Veuillez renseigner votre email "),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(29,"div",9),b.Rb(30,"p",10),b.Ac(31,"Cours"),b.Qb(),b.Rb(32,"div",11),b.Rb(33,"ul",19),b.yc(34,h,4,2,"li",20),b.Qb(),b.Qb(),b.Qb(),b.Rb(35,"div",9),b.Rb(36,"p",10),b.Ac(37,"Tarifs"),b.Qb(),b.Rb(38,"div",21),b.Rb(39,"ion-card"),b.Rb(40,"p"),b.Ac(41,"Tarifs annuels pour les cours hebdomadaires :"),b.Qb(),b.Rb(42,"ul"),b.Rb(43,"li"),b.Ac(44,"- 1 cours/ semaine (2h) / 350\u20ac"),b.Qb(),b.Rb(45,"li"),b.Ac(46,"- 2 cours/ semaine (2h + 2h) / 630\u20ac"),b.Qb(),b.Rb(47,"li"),b.Ac(48,"- Cie Amateur (2h30) / 400\u20ac"),b.Qb(),b.Qb(),b.Qb(),b.Rb(49,"p"),b.Ac(50),b.Rb(51,"ion-toggle",22),b.Zb("change",function(e){return b.qc(o),b.dc().toggleShowDiscountText(e.checked)}),b.Qb(),b.Qb(),b.yc(52,g,7,0,"div",23),b.Qb(),b.Qb(),b.Rb(53,"div",9),b.Rb(54,"p",10),b.Ac(55,"Mode de paiement"),b.Qb(),b.Rb(56,"div",11),b.Rb(57,"p"),b.Ac(58,"Quel est votre mode de paiement favori ?"),b.Qb(),b.Rb(59,"ion-radio-group",24),b.yc(60,v,4,2,"ion-item",25),b.Qb(),b.Qb(),b.Qb(),b.Rb(61,"ion-button",26),b.Ac(62," Valider "),b.Qb(),b.Qb()}if(2&e){var i=b.dc();b.kc("formGroup",i.subscriptionForm),b.Bb(9),b.kc("ngClass",i.subscriptionForm.get("lastName").invalid&&i.subscriptionForm.get("lastName").touched?"show-error":""),b.Bb(6),b.kc("ngClass",i.subscriptionForm.get("firstName").invalid&&i.subscriptionForm.get("firstName").touched?"show-error":""),b.Bb(6),b.kc("ngClass",i.subscriptionForm.get("phone").invalid&&i.subscriptionForm.get("phone").touched?"show-error":""),b.Bb(6),b.kc("ngClass",i.subscriptionForm.get("email").invalid&&i.subscriptionForm.get("email").touched?"show-error":""),b.Bb(7),b.kc("ngForOf",i.coursesFormArray.controls),b.Bb(16),b.Cc(" Etiez-vous inscrit \xe0 un atelier aupr\xe8s de La Cl\xe9 du Quai l\u2019ann\xe9e derni\xe8re ? ",i.isPreviouslyEnrolled?"Oui":"Non"," "),b.Bb(1),b.kc("checked",i.isPreviouslyEnrolled),b.Bb(1),b.kc("ngIf",i.isPreviouslyEnrolled),b.Bb(8),b.kc("ngForOf",i.paymentMethods),b.Bb(1),b.kc("disabled",i.subscriptionForm.invalid)}}var R,Q,_,y=[{path:"",component:(R=function(){function o(n){e(this,o),this.subscriptionService=n,this.isLoading=!1,this.formSentSuccess=!1,this.formSentFail=!1,this.hideForm=!1,this.isPreviouslyEnrolled=!1,this.subscriptionForm=new s.j({}),this.paymentMethods=[u.a.FIRST,u.a.SECOND,u.a.THIRD],this.courses=[{id:"1",detail:"Lundi 18h30-20h30 : Th\xe9\xe2tre avec J\xe9r\xf4me Chambon",name:"lundi 18h30"},{id:"2",detail:"Lundi 20h30-22h30 : Th\xe9\xe2tre avec J\xe9r\xf4me Chambon",name:"lundi 20h30"},{id:"3",detail:"Mardi 18h30-20h30 : Danse contemporaine et improvisation avec C\xf4me Tanguy",name:"mardi 18h30"},{id:"4",detail:"Mardi 20h30-23h : Cie Amateur avec C\xf4me Tanguy (danse-th\xe9\xe2tre)",name:"mardi 20h30"},{id:"5",detail:"Mercredi 18h30-20h30 : Danse-th\xe9\xe2tre avec C\xf4me Tanguy",name:"mercredi 18h30"},{id:"6",detail:"Mercredi 20h30-22h30 : Danse contemporaine et improvisation avec C\xf4me Tanguy",name:"mercredi 20h30"},{id:"7",detail:"Jeudi 18h30-20h30 : Th\xe9\xe2tre avec Laurine Clochard et Juliette Morin",name:"jeudi 18h30"},{id:"8",detail:"Jeudi 20h30-22h30 : Th\xe9\xe2tre avec Julie Hercberg",name:"jeudi 20h30"}],this.workshops=[{id:"nov7",date:"7 novembre"},{id:"dec5",date:"5 d\xe9cembre"},{id:"jan16",date:"16 janvier"},{id:"fev6",date:"6 f\xe9vrier"},{id:"mar6",date:"6 mars"},{id:"apr17",date:"17 avril"},{id:"may15",date:"15 mai"}]}var i,r,t;return i=o,(r=[{key:"ngOnInit",value:function(){this.subscriptionForm.addControl("lastName",new s.g(null,s.x.required)),this.subscriptionForm.addControl("firstName",new s.g(null,s.x.required)),this.subscriptionForm.addControl("phone",new s.g(null,s.x.required)),this.subscriptionForm.addControl("email",new s.g(null,[s.x.required,s.x.email])),this.subscriptionForm.addControl("courses",new s.e([],Object(l.a)())),this.subscriptionForm.addControl("workshops",new s.e([])),this.subscriptionForm.addControl("previouslyEnrolled",new s.g(!1,s.x.required)),this.subscriptionForm.addControl("paymentMethod",new s.g(null,s.x.required)),this._addControl("courses",this.courses,!1),this._addControl("workshops",this.workshops,!1)}},{key:"onSubmit",value:function(){var e=this;this.isLoading=!0,this.hideForm=!0;var n=this.subscriptionForm.value.courses.map(function(n,o){return n?e.courses[o].name:null}).filter(function(e){return null!==e}),o=this.subscriptionForm.value.workshops.map(function(n,o){return n?e.workshops[o].date:null}).filter(function(e){return null!==e}),i=this.subscriptionForm.value;i.courses=n,i.workshops=o,this.subscriptionService.createMember(i).subscribe(function(n){e.isLoading=!1,e.formSentSuccess=!0,e.subscriptionForm.reset()},function(n){e.isLoading=!1,e.formSentFail=!0})}},{key:"toggleShowDiscountText",value:function(e){this.isPreviouslyEnrolled=e,e?this.subscriptionForm.addControl("previousCourseInfo",new s.g(null)):this.subscriptionForm.removeControl("previousCourseInfo")}},{key:"onReload",value:function(){location.reload()}},{key:"_addControl",value:function(e,n,o){var i=this;n.forEach(function(){i.subscriptionForm.controls[e].push(new s.g(null))})}},{key:"coursesFormArray",get:function(){return this.subscriptionForm.get("courses")}},{key:"workshopsFormArray",get:function(){return this.subscriptionForm.get("workshops")}}])&&n(i.prototype,r),t&&n(i,t),o}(),R.\u0275fac=function(e){return new(e||R)(b.Mb(m.a))},R.\u0275cmp=b.Gb({type:R,selectors:[["app-pre-subscription"]],decls:19,vars:4,consts:[[1,"no-padding"],[1,"form__container"],["name","crescent",4,"ngIf"],["class","form__response",4,"ngIf"],["class","subscription-form",3,"formGroup","ngSubmit",4,"ngIf"],["name","crescent"],[1,"form__response"],["type","button","color","primary",3,"click"],[1,"subscription-form",3,"formGroup","ngSubmit"],[1,"form-section"],[1,"form-section__title"],[1,"form-section__content"],[1,"form-control"],["position","floating"],["type","text","name","lastName","formControlName","lastName","required",""],[1,"error-message",3,"ngClass"],["type","text","name","firstName","formControlName","firstName","required",""],["type","text","name","phone","formControlName","phone","required",""],["type","email","name","email","formControlName","email","required",""],["formArrayName","courses",1,"checkbox-list"],["class","checkbox-item",4,"ngFor","ngForOf"],[1,"form-section__content","form-section__content-price"],["formControlName","previouslyEnrolled",1,"previous-course-toggle",3,"checked","change"],[4,"ngIf"],["aria-label","Selectionnez un mode de paiement","formControlName","paymentMethod",1,"radio-group"],[4,"ngFor","ngForOf"],["type","submit","color","primary",1,"submit-btn",3,"disabled"],[1,"checkbox-item"],[3,"formControlName"],[1,"color-primary","italic"],[1,"previous-course-detail"],["placeholder","Jour et heure de l'atelier","name","previousCouseInfo","formControlName","previousCourseInfo"],[1,"radio-button",3,"value"]],template:function(e,n){1&e&&(b.Rb(0,"ion-header"),b.Rb(1,"ion-toolbar"),b.Rb(2,"ion-title"),b.Ac(3,"Pr\xe9 Inscription"),b.Qb(),b.Qb(),b.Qb(),b.Rb(4,"ion-content"),b.Rb(5,"ion-grid"),b.Rb(6,"ion-row"),b.Rb(7,"ion-col",0),b.Rb(8,"h1"),b.Ac(9," Formulaire de pr\xe9-inscription "),b.Nb(10,"br"),b.Ac(11," La Cl\xe9 Du Quai saison 2020/2021 "),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(12,"ion-row"),b.Rb(13,"ion-col"),b.Rb(14,"ion-card",1),b.yc(15,d,1,0,"ion-spinner",2),b.yc(16,p,16,0,"div",3),b.yc(17,f,5,0,"div",3),b.yc(18,C,63,11,"form",4),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.Bb(15),b.kc("ngIf",n.isLoading),b.Bb(1),b.kc("ngIf",n.formSentSuccess),b.Bb(1),b.kc("ngIf",n.formSentFail),b.Bb(1),b.kc("ngIf",!n.isLoading&&!n.hideForm))},directives:[c.q,c.Q,c.O,c.n,c.p,c.F,c.m,c.h,t.m,c.I,c.f,s.y,s.s,s.k,c.t,c.u,c.s,c.Z,s.r,s.i,s.w,t.k,s.f,t.l,c.a,c.P,c.C,c.Y,c.l,s.c,c.B,c.W],styles:['@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap");@import url("https://fonts.googleapis.com/css2?family=Oswald&display=swap");h1[_ngcontent-%COMP%]{padding:1rem;text-align:center;background:#5dbeba;color:#fff;font-family:Poppins,Roboto,sans-serif}@media (min-width:768px){h1[_ngcontent-%COMP%]{padding:3rem}}.form__container[_ngcontent-%COMP%]{max-width:768px;margin:0 auto;min-height:450px}.form__container[_ngcontent-%COMP%], .form__response[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.form__response[_ngcontent-%COMP%]{flex-flow:column}.form__response[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .form__response[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0 auto 2rem}.subscription-form[_ngcontent-%COMP%]{align-items:center}.form-section[_ngcontent-%COMP%], .subscription-form[_ngcontent-%COMP%]{display:flex;flex-flow:column;justify-content:center;width:100%}.form-section[_ngcontent-%COMP%]{margin:0 auto 1rem}.form-section__title[_ngcontent-%COMP%]{width:100%;padding:.5rem 0 .5rem 1rem;background:#5dbeba;color:#191919}.form-section__content[_ngcontent-%COMP%]{padding:0;display:flex;flex-flow:column}@media (min-width:768px){.form-section__content[_ngcontent-%COMP%]{padding:0 0 0 3rem}}@media (min-width:768px){.form-section__content-price[_ngcontent-%COMP%]{padding:0 3rem}}.form-section__content-price[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:0 0 1rem}.form-section__content-price[_ngcontent-%COMP%]   .previous-course-toggle[_ngcontent-%COMP%]{margin:0 0 0 1rem}.form-control[_ngcontent-%COMP%], .form-section__content-price[_ngcontent-%COMP%]   .previous-course-detail[_ngcontent-%COMP%], .radio-group[_ngcontent-%COMP%]{width:100%;max-width:300px}.radio-group[_ngcontent-%COMP%]{display:flex;flex-flow:column;justify-content:center}.radio-group[_ngcontent-%COMP%]   .radio-button[_ngcontent-%COMP%]{margin:.5rem 0}.submit-btn[_ngcontent-%COMP%]{margin:1rem auto 2rem}']}),R)},{path:"pre-inscription",redirectTo:"",pathMatch:"full"}],w=((_=function n(){e(this,n)}).\u0275mod=b.Kb({type:_}),_.\u0275inj=b.Jb({factory:function(e){return new(e||_)},imports:[[a.k.forChild(y)],a.k]}),_),k=((Q=function n(){e(this,n)}).\u0275mod=b.Kb({type:Q}),Q.\u0275inj=b.Jb({factory:function(e){return new(e||Q)},imports:[[t.b,s.v,c.R,w]]}),Q)}}])}();