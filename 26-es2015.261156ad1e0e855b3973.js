(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{YSFO:function(e,t,n){"use strict";n.r(t),n.d(t,"TakeAwayPageModule",function(){return A});var i=n("ofXK"),o=n("TEn/"),a=n("tyNb"),r=n("fXoL"),c=n("TTZi"),s=n("3Pt+"),l=n("xsb0"),m=n("kmnG"),b=n("qFsG"),p=n("iadO");function d(e,t){1&e&&r.Nb(0,"ion-spinner",5)}function u(e,t){if(1&e&&(r.Rb(0,"div",6),r.Rb(1,"p"),r.Ac(2,"Merci beaucoup !"),r.Qb(),r.Rb(3,"p"),r.Ac(4),r.Qb(),r.Rb(5,"p"),r.Ac(6," D\u2019ici l\xe0, portez-vous bien !"),r.Nb(7,"br"),r.Ac(8," A tr\xe8s vite,"),r.Nb(9,"br"),r.Ac(10," La Cl\xe9 du Quai. "),r.Qb(),r.Qb()),2&e){const e=r.dc();r.Bb(4),r.Dc(" Vous pourrez venir r\xe9cup\xe9rer votre commande le ",e.pickUpDay," ",e.pickUpMonth,", entre 16h30 et 18h30, au 49 rue du Mirail. ")}}function g(e,t){if(1&e){const e=r.Sb();r.Rb(0,"div",6),r.Rb(1,"p"),r.Ac(2,"D\xe9sol\xe9, une erreur s'est produite. Veuillez r\xe9essayer."),r.Qb(),r.Rb(3,"ion-button",7),r.Zb("click",function(){return r.qc(e),r.dc().onReload()}),r.Ac(4," Passer commande "),r.Qb(),r.Qb()}}function h(e,t){if(1&e&&(r.Rb(0,"ion-item",31),r.Rb(1,"ion-label"),r.Ac(2),r.Qb(),r.Nb(3,"ion-radio",32),r.Qb()),2&e){const e=t.$implicit,n=t.index;r.Bb(2),r.Bc(e),r.Bb(1),r.jc("value",n+1)}}function f(e,t){if(1&e&&(r.Rb(0,"p",33),r.Ac(1),r.Qb()),2&e){const e=r.dc(2);r.Bb(1),r.Cc(" (dont ",e.totalDeposit,"\u20ac de consigne) ")}}function w(e,t){if(1&e){const e=r.Sb();r.Rb(0,"form",8),r.Zb("ngSubmit",function(){return r.qc(e),r.dc().onSubmit()}),r.Rb(1,"ion-item",9),r.Rb(2,"ion-label",10),r.Ac(3,"Nom"),r.Qb(),r.Nb(4,"ion-input",11),r.Qb(),r.Rb(5,"p",12),r.Ac(6," Veuillez renseigner votre nom "),r.Qb(),r.Rb(7,"ion-item",9),r.Rb(8,"ion-label",10),r.Ac(9,"Pr\xe9nom"),r.Qb(),r.Nb(10,"ion-input",13),r.Qb(),r.Rb(11,"p",12),r.Ac(12," Veuillez renseigner votre pr\xe9nom "),r.Qb(),r.Rb(13,"ion-item",9),r.Rb(14,"ion-label",10),r.Ac(15,"T\xe9l\xe9phone"),r.Qb(),r.Nb(16,"ion-input",14),r.Qb(),r.Rb(17,"p",12),r.Ac(18," Veuillez renseigner votre num\xe9ro de t\xe9l\xe9phone "),r.Qb(),r.Rb(19,"p",15),r.Ac(20," Vos informations seront effac\xe9es une fois la transaction r\xe9alis\xe9e. "),r.Qb(),r.Rb(21,"div",16),r.Rb(22,"ion-label",17),r.Ac(23,"Quantit\xe9 (par bouteille de 1 litre):"),r.Qb(),r.Rb(24,"ion-radio-group",18),r.Zb("ionChange",function(t){return r.qc(e),r.dc().onQuantityChange(t)}),r.yc(25,h,4,2,"ion-item",19),r.Qb(),r.Qb(),r.Rb(26,"div",9),r.Rb(27,"mat-form-field",20),r.Rb(28,"mat-label"),r.Ac(29,"Date de retrait :"),r.Qb(),r.Nb(30,"input",21),r.Nb(31,"mat-datepicker-toggle",22),r.Nb(32,"mat-datepicker",23,24),r.Rb(34,"p",25),r.Ac(35,"(entre 16h30 et 18h30)"),r.Qb(),r.Qb(),r.Qb(),r.Rb(36,"div",26),r.Rb(37,"ion-label"),r.Ac(38,"J'ai mon propre contenant"),r.Qb(),r.Rb(39,"ion-toggle",27),r.Zb("ionChange",function(t){return r.qc(e),r.dc().toggleHasContainer(t)}),r.Ac(40),r.Qb(),r.Qb(),r.Rb(41,"p",28),r.Ac(42),r.Qb(),r.yc(43,f,2,1,"p",29),r.Rb(44,"p",15),r.Ac(45," Le paiement se fait sur place, au moment de r\xe9cup\xe9rer votre commande. "),r.Qb(),r.Rb(46,"ion-button",30),r.Ac(47," Commandez ! "),r.Qb(),r.Qb()}if(2&e){const e=r.pc(33),t=r.dc();r.jc("formGroup",t.chaiTakeAwayForm),r.Bb(5),r.jc("ngClass",t.chaiTakeAwayForm.get("lastName").invalid&&t.chaiTakeAwayForm.get("lastName").touched?"show-error":""),r.Bb(6),r.jc("ngClass",t.chaiTakeAwayForm.get("firstName").invalid&&t.chaiTakeAwayForm.get("firstName").touched?"show-error":""),r.Bb(6),r.jc("ngClass",t.chaiTakeAwayForm.get("phone").invalid&&t.chaiTakeAwayForm.get("phone").touched?"show-error":""),r.Bb(7),r.jc("value",t.quantities[0]),r.Bb(1),r.jc("ngForOf",t.quantities),r.Bb(5),r.jc("min",t.minDateFilter)("max",t.maxDateFilter)("matDatepickerFilter",t.dateFilter)("matDatepicker",e),r.Bb(1),r.jc("for",e),r.Bb(8),r.jc("checked",t.hasContainer),r.Bb(1),r.Bc(t.hasContainer?"Oui":"Non"),r.Bb(2),r.Cc("Total: ",t.totalPrice,"\u20ac"),r.Bb(1),r.jc("ngIf",!t.hasContainer),r.Bb(3),r.jc("disabled",t.chaiTakeAwayForm.invalid)}}let y=(()=>{class e{constructor(e){this.takeAwayService=e,this.isLoading=!1,this.formSentSuccess=!1,this.formSentFail=!1,this.hideForm=!1,this.showForm=!1,this.price=8,this.totalPrice=8,this.oneLiterPrice=8,this.depositAmount=3,this.totalDeposit=3,this.orderQuantity=1,this.hasContainer=!1,this.quantities=["1 litre","2 litres","3 litres","4 litres"]}ngOnInit(){this._initChaiForm(),this._setMinMaxDates(),this._getTotalPrice()}onSubmit(){this.isLoading=!0,this.hideForm=!0;const e=this.chaiTakeAwayForm.value,t=Object.assign(Object.assign({},e),{price:this.price,totalPrice:this.totalPrice,totalDeposit:this.totalDeposit});this.pickUpDay=e.pickUpDate.getDate(),this.pickUpMonth=new Intl.DateTimeFormat("fr-FR",{month:"long"}).format(e.pickUpDate),this.takeAwayService.createChaiTakeAwayOrder(t).subscribe(e=>{this.isLoading=!1,this.formSentSuccess=!0,this.chaiTakeAwayForm.reset()},e=>{this.isLoading=!1,this.formSentFail=!0})}onToggleForm(){this.showForm=!this.showForm}onReload(){location.reload()}toggleHasContainer(e){this.hasContainer=!this.hasContainer,this._getTotalPrice()}dateFilter(e){const t=(e||new Date).getDay();return 0!==t&&1!==t&&3!==t&&5!==t&&6!==t}onQuantityChange(e){this.price=this.oneLiterPrice*e.detail.value,this.orderQuantity=e.detail.value,this._getTotalPrice()}_initChaiForm(){this.chaiTakeAwayForm=new s.j({lastName:new s.g(null,s.w.required),firstName:new s.g(null,s.w.required),phone:new s.g(null,s.w.required),quantity:new s.g(1,s.w.required),hasOwnContainer:new s.g(!1,s.w.required),pickUpDate:new s.g(null,s.w.required)})}_setMinMaxDates(){const e=(new Date).getFullYear();this.minDateFilter=new Date,this.maxDateFilter=new Date(e+0,11,31)}_getTotalPrice(){this.hasContainer?(this.totalPrice=this.price,this.totalDeposit=0):(this.totalDeposit=this.depositAmount*this.orderQuantity,this.totalPrice=this.price+this.totalDeposit)}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(l.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["chai-take-away"]],decls:12,vars:4,consts:[[1,"form__container"],["color","primary"],["name","crescent","color","primary",4,"ngIf"],["class","form__response",4,"ngIf"],["class","take-away-form",3,"formGroup","ngSubmit",4,"ngIf"],["name","crescent","color","primary"],[1,"form__response"],["type","button","color","primary",3,"click"],[1,"take-away-form",3,"formGroup","ngSubmit"],[1,"form-control"],["position","floating"],["type","text","name","lastName","formControlName","lastName","required",""],[1,"error-message",3,"ngClass"],["type","text","name","firstName","formControlName","firstName","required",""],["type","text","name","phone","formControlName","phone","required",""],[1,"italic","text-center","font-sm"],[1,"form-control","radio-container"],[1,"label"],["aria-label","Quantit\xe9","formControlName","quantity",1,"radio-group",3,"value","ionChange"],["lines","none",4,"ngFor","ngForOf"],["appearance","fill",1,"form__calendar"],["matInput","","formControlName","pickUpDate","disabled","",3,"min","max","matDatepickerFilter","matDatepicker"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],[1,"font-sm"],[1,"slide-toggle__section"],["formControlName","hasOwnContainer",1,"slide-toggle",3,"checked","ionChange"],[1,"text-center","price"],["class","text-center",4,"ngIf"],["type","submit","color","primary",1,"submit-btn",3,"disabled"],["lines","none"],["slot","start",3,"value"],[1,"text-center"]],template:function(e,t){1&e&&(r.Rb(0,"ion-card",0),r.Rb(1,"ion-card-header"),r.Rb(2,"ion-text",1),r.Rb(3,"h1"),r.Ac(4,"Cha\xef au litre !"),r.Qb(),r.Qb(),r.Rb(5,"p"),r.Ac(6," Commandez votre Cha\xef v\xe9g\xe9tal et passez le r\xe9cup\xe9rer le mardi ou le jeudi entre 16h30 et 18h30. \xc7a se cong\xe8le aussi tr\xe8s bien ! "),r.Qb(),r.Qb(),r.Rb(7,"ion-card-content"),r.yc(8,d,1,0,"ion-spinner",2),r.yc(9,u,11,2,"div",3),r.yc(10,g,5,0,"div",3),r.yc(11,w,48,16,"form",4),r.Qb(),r.Qb()),2&e&&(r.Bb(8),r.jc("ngIf",t.isLoading),r.Bb(1),r.jc("ngIf",t.formSentSuccess),r.Bb(1),r.jc("ngIf",t.formSentFail),r.Bb(1),r.jc("ngIf",!t.isLoading&&!t.hideForm))},directives:[o.h,o.j,o.M,o.i,i.l,o.I,o.f,s.x,s.r,s.k,o.s,o.t,o.r,o.Y,s.q,s.i,s.v,i.j,o.B,o.X,i.k,m.c,m.f,b.b,s.c,p.b,p.d,m.g,p.a,o.P,o.a,o.A,o.V],styles:['@import url("https://fonts.googleapis.com/css2?family=Poppins&display=swap");.heading[_ngcontent-%COMP%]{color:#ffde00;text-align:center}.form__container[_ngcontent-%COMP%]{max-width:360px;margin:0 auto}.form__container[_ngcontent-%COMP%], .form__response[_ngcontent-%COMP%]{display:flex;flex-flow:column;justify-content:center;align-items:center}.form__response[_ngcontent-%COMP%]{text-align:center}.form__response[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 auto .5rem}.take-away-form[_ngcontent-%COMP%]{display:flex;flex-flow:column;justify-content:center}.form-control[_ngcontent-%COMP%], .take-away-form[_ngcontent-%COMP%]{width:100%;max-width:300px}.form__calendar[_ngcontent-%COMP%]{width:100%}.form__calendar[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%], .form__calendar[_ngcontent-%COMP%]   mat-datepicker-toggle[_ngcontent-%COMP%]{color:#5dbeba}.form__calendar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.radio-container[_ngcontent-%COMP%]{width:100%;max-width:300px;margin:1rem 0}.radio-container[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;margin:0 0 .5rem}.radio-container[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]{display:flex;flex-flow:column;width:100%;max-width:300px}.radio-container[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   .radio-button[_ngcontent-%COMP%]{margin:.5rem 0}.submit-btn[_ngcontent-%COMP%]{margin:1rem auto 2rem}.slide-toggle__section[_ngcontent-%COMP%]{display:flex;flex-flow:column;margin:0 0 1rem;align-items:center}.slide-toggle[_ngcontent-%COMP%]{margin:.5rem 0}.price[_ngcontent-%COMP%]{display:block;font-weight:700;font-size:1.1rem;border-bottom:2px solid #5dbeba;border-top:2px solid #5dbeba;padding:.5rem;color:#5dbeba}']}),e})();const _=[{path:"",component:(()=>{class e{constructor(){this.HEADER_TITLE="A Emporter"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Gb({type:e,selectors:[["app-take-away"]],decls:3,vars:1,consts:[[3,"headerTitle"],[1,"ion-padding"]],template:function(e,t){1&e&&(r.Nb(0,"ion-header-component",0),r.Rb(1,"ion-content",1),r.Nb(2,"chai-take-away"),r.Qb()),2&e&&r.jc("headerTitle",t.HEADER_TITLE)},directives:[c.a,o.n,y],styles:['@import url("https://fonts.googleapis.com/css2?family=Poppins&display=swap");ion-content[_ngcontent-%COMP%]{--background:var(--color-primary,$color-primary-light)}@media (min-width:768px){ion-content[_ngcontent-%COMP%]{--background:url(come-outside.50a32d13e158b04b8a3a.jpg) center center}}']}),e})()},{path:"a-emporter",redirectTo:"",pathMatch:"full"}];let C=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(t){return new(t||e)},imports:[[a.j.forChild(_)],a.j]}),e})();var P=n("PI13");let k=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(t){return new(t||e)},imports:[[i.b,s.u,o.R,P.a]]}),e})();var Q=n("PCNd");let A=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(t){return new(t||e)},imports:[[i.b,o.R,C,k,Q.a]]}),e})()}}]);