(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{FPIi:function(e,o,i){"use strict";i.r(o),i.d(o,"PreSubscriptionPageModule",function(){return _});var n=i("ofXK"),t=i("3Pt+"),r=i("TEn/"),s=i("tyNb"),a=i("xvI5"),c=i("DsUL"),b=i("fXoL"),l=i("HtUY"),m=i("wzJV");function d(e,o){1&e&&b.Nb(0,"ion-spinner",7)}function u(e,o){1&e&&(b.Rb(0,"div",8),b.Rb(1,"p"),b.Ac(2," Merci beaucoup ! Votre pr\xe9-inscription a bien \xe9t\xe9 prise en compte. "),b.Qb(),b.Rb(3,"p"),b.Ac(4,"Elle sera finalis\xe9e au moment de votre r\xe8glement."),b.Qb(),b.Rb(5,"ul"),b.Rb(6,"li"),b.Ac(7,"- En CB : paiement au comptoir de l\u2019association"),b.Qb(),b.Rb(8,"li"),b.Ac(9," - Par ch\xe8que : \xe0 d\xe9poser au comptoir lors de votre prochain passage "),b.Qb(),b.Rb(10,"li"),b.Ac(11," - En esp\xe8ces : \xe0 d\xe9poser au comptoir lors de votre prochain passage "),b.Qb(),b.Qb(),b.Rb(12,"p"),b.Ac(13,"A tr\xe8s bient\xf4t !"),b.Qb(),b.Rb(14,"p"),b.Ac(15,"L\u2019\xe9quipe de La Cl\xe9 du Quai"),b.Qb(),b.Qb())}function p(e,o){if(1&e){const e=b.Sb();b.Rb(0,"div",8),b.Rb(1,"p"),b.Ac(2,"D\xe9sol\xe9, une erreur s'est produite. Veuillez r\xe9essayer."),b.Qb(),b.Rb(3,"ion-button",9),b.Zb("click",function(){return b.qc(e),b.dc().onReload()}),b.Ac(4," S'inscrire "),b.Qb(),b.Qb()}}function h(e,o){if(1&e&&(b.Rb(0,"ion-item",23),b.Rb(1,"ion-label"),b.Ac(2),b.Qb(),b.Nb(3,"ion-checkbox",31),b.Qb()),2&e){const e=o.index,i=b.dc(2);b.Bb(2),b.Bc(i.courses[e].detail),b.Bb(1),b.kc("formControlName",e)}}function f(e,o){1&e&&(b.Rb(0,"div"),b.Rb(1,"p",32),b.Ac(2," Vous b\xe9n\xe9ficiez, en tant qu\u2019ancien \xe9l\xe8ve, d\u2019une r\xe9duction de 10% sur le montant de l\u2019inscription aux cours hebdomadaires. "),b.Qb(),b.Rb(3,"ion-item",33),b.Rb(4,"ion-label",14),b.Ac(5,"A quel atelier \xe9tiez-vous inscrit ?"),b.Nb(6,"atom-asterisk"),b.Qb(),b.Nb(7,"ion-textarea",34),b.Qb(),b.Qb())}function g(e,o){if(1&e&&(b.Rb(0,"ion-item",23),b.Rb(1,"ion-label"),b.Ac(2),b.Qb(),b.Nb(3,"ion-radio",35),b.Qb()),2&e){const e=o.$implicit;b.Bb(2),b.Cc(" ",e," "),b.Bb(1),b.kc("value",e)}}function R(e,o){if(1&e){const e=b.Sb();b.Rb(0,"form",10),b.Zb("ngSubmit",function(){return b.qc(e),b.dc().onSubmit()}),b.Rb(1,"div",11),b.Rb(2,"p",12),b.Ac(3,"Informations"),b.Qb(),b.Rb(4,"div",13),b.Rb(5,"ion-item"),b.Rb(6,"ion-label",14),b.Ac(7,"Nom"),b.Nb(8,"atom-asterisk"),b.Qb(),b.Nb(9,"ion-input",15),b.Qb(),b.Rb(10,"p",16),b.Ac(11," Veuillez renseigner votre nom "),b.Qb(),b.Rb(12,"ion-item"),b.Rb(13,"ion-label",14),b.Ac(14,"Pr\xe9nom"),b.Nb(15,"atom-asterisk"),b.Qb(),b.Nb(16,"ion-input",17),b.Qb(),b.Rb(17,"p",16),b.Ac(18," Veuillez renseigner votre pr\xe9nom "),b.Qb(),b.Rb(19,"ion-item"),b.Rb(20,"ion-label",14),b.Ac(21,"T\xe9l\xe9phone"),b.Nb(22,"atom-asterisk"),b.Qb(),b.Nb(23,"ion-input",18),b.Qb(),b.Rb(24,"p",16),b.Ac(25," Veuillez renseigner votre num\xe9ro de t\xe9l\xe9phone "),b.Qb(),b.Rb(26,"ion-item"),b.Rb(27,"ion-label",14),b.Ac(28,"Email"),b.Nb(29,"atom-asterisk"),b.Qb(),b.Nb(30,"ion-input",19),b.Qb(),b.Rb(31,"p",16),b.Ac(32," Veuillez renseigner votre email "),b.Qb(),b.Qb(),b.Qb(),b.Rb(33,"div",11),b.Rb(34,"p",12),b.Ac(35,"Cours"),b.Qb(),b.Rb(36,"div",13),b.Rb(37,"ion-list",20),b.Rb(38,"ion-list-header"),b.Rb(39,"ion-label"),b.Ac(40," Choisissez un cours"),b.Nb(41,"atom-asterisk"),b.Qb(),b.Qb(),b.yc(42,h,4,2,"ion-item",21),b.Qb(),b.Qb(),b.Qb(),b.Rb(43,"div",11),b.Rb(44,"p",12),b.Ac(45,"Tarifs"),b.Qb(),b.Rb(46,"div",22),b.Rb(47,"ion-list"),b.Rb(48,"ion-list-header"),b.Rb(49,"ion-label"),b.Ac(50,"Tarifs annuels pour les cours hebdomadaires :"),b.Qb(),b.Qb(),b.Rb(51,"ion-item",23),b.Rb(52,"ion-label"),b.Ac(53,"- 1 cours/ semaine (2h) / 350\u20ac"),b.Qb(),b.Qb(),b.Rb(54,"ion-item",23),b.Rb(55,"ion-label"),b.Ac(56,"- 2 cours/ semaine (2h + 2h) / 630\u20ac"),b.Qb(),b.Qb(),b.Rb(57,"ion-item",23),b.Rb(58,"ion-label"),b.Ac(59,"- Cie Amateur (2h30) / 400\u20ac"),b.Qb(),b.Qb(),b.Qb(),b.Rb(60,"ion-item",24),b.Rb(61,"ion-label"),b.Ac(62," Etiez-vous inscrit \xe0 un atelier aupr\xe8s de La Cl\xe9 du Quai l\u2019ann\xe9e derni\xe8re ?"),b.Qb(),b.Qb(),b.Rb(63,"div",25),b.Rb(64,"ion-text"),b.Ac(65,"Non"),b.Qb(),b.Rb(66,"ion-toggle",26),b.Zb("ionChange",function(o){return b.qc(e),b.dc().toggleShowDiscountText(o.detail.checked)}),b.Qb(),b.Rb(67,"ion-text",27),b.Ac(68,"Oui"),b.Qb(),b.Qb(),b.yc(69,f,8,0,"div",28),b.Qb(),b.Qb(),b.Rb(70,"div",11),b.Rb(71,"p",12),b.Ac(72,"Mode de paiement"),b.Qb(),b.Rb(73,"div",13),b.Rb(74,"ion-radio-group",29),b.Rb(75,"ion-list-header"),b.Rb(76,"ion-label"),b.Ac(77,"Quel est votre mode de paiement favori ?"),b.Nb(78,"atom-asterisk"),b.Qb(),b.Qb(),b.yc(79,g,4,2,"ion-item",21),b.Qb(),b.Qb(),b.Qb(),b.Rb(80,"ion-button",30),b.Ac(81," Valider "),b.Qb(),b.Qb()}if(2&e){const e=b.dc();b.kc("formGroup",e.subscriptionForm),b.Bb(10),b.kc("ngClass",e.subscriptionForm.get("lastName").invalid&&e.subscriptionForm.get("lastName").touched?"show-error":""),b.Bb(7),b.kc("ngClass",e.subscriptionForm.get("firstName").invalid&&e.subscriptionForm.get("firstName").touched?"show-error":""),b.Bb(7),b.kc("ngClass",e.subscriptionForm.get("phone").invalid&&e.subscriptionForm.get("phone").touched?"show-error":""),b.Bb(7),b.kc("ngClass",e.subscriptionForm.get("email").invalid&&e.subscriptionForm.get("email").touched?"show-error":""),b.Bb(11),b.kc("ngForOf",e.coursesFormArray.controls),b.Bb(25),b.kc("color",e.isPreviouslyEnrolled?"primary":""),b.Bb(2),b.kc("ngIf",e.isPreviouslyEnrolled),b.Bb(10),b.kc("ngForOf",e.paymentMethods),b.Bb(1),b.kc("disabled",e.subscriptionForm.invalid)}}const Q=[{path:"",component:(()=>{class e{constructor(e){this.subscriptionService=e,this.isLoading=!1,this.formSentSuccess=!1,this.formSentFail=!1,this.hideForm=!1,this.isPreviouslyEnrolled=!1,this.subscriptionForm=new t.j({}),this.paymentMethods=[a.a.FIRST,a.a.SECOND,a.a.THIRD],this.courses=[{id:"1",detail:"Lundi 18h30-20h30 : Th\xe9\xe2tre avec J\xe9r\xf4me Chambon",name:"lundi 18h30"},{id:"2",detail:"Lundi 20h30-22h30 : Th\xe9\xe2tre avec J\xe9r\xf4me Chambon",name:"lundi 20h30"},{id:"3",detail:"Mardi 18h30-20h30 : Danse contemporaine et improvisation avec C\xf4me Tanguy",name:"mardi 18h30"},{id:"4",detail:"Mardi 20h30-23h : Cie Amateur avec C\xf4me Tanguy (danse-th\xe9\xe2tre)",name:"mardi 20h30"},{id:"5",detail:"Mercredi 18h30-20h30 : Danse-th\xe9\xe2tre avec C\xf4me Tanguy",name:"mercredi 18h30"},{id:"6",detail:"Mercredi 20h30-22h30 : Danse contemporaine et improvisation avec C\xf4me Tanguy",name:"mercredi 20h30"},{id:"7",detail:"Jeudi 18h30-20h30 : Th\xe9\xe2tre avec Laurine Clochard et Juliette Morin",name:"jeudi 18h30"},{id:"8",detail:"Jeudi 20h30-22h30 : Th\xe9\xe2tre avec Julie Hercberg",name:"jeudi 20h30"}],this.workshops=[{id:"nov7",date:"7 novembre"},{id:"dec5",date:"5 d\xe9cembre"},{id:"jan16",date:"16 janvier"},{id:"fev6",date:"6 f\xe9vrier"},{id:"mar6",date:"6 mars"},{id:"apr17",date:"17 avril"},{id:"may15",date:"15 mai"}]}get coursesFormArray(){return this.subscriptionForm.get("courses")}get workshopsFormArray(){return this.subscriptionForm.get("workshops")}ngOnInit(){this.subscriptionForm.addControl("lastName",new t.g(null,t.x.required)),this.subscriptionForm.addControl("firstName",new t.g(null,t.x.required)),this.subscriptionForm.addControl("phone",new t.g(null,t.x.required)),this.subscriptionForm.addControl("email",new t.g(null,[t.x.required,t.x.email])),this.subscriptionForm.addControl("courses",new t.e([],Object(c.a)())),this.subscriptionForm.addControl("workshops",new t.e([])),this.subscriptionForm.addControl("previouslyEnrolled",new t.g(!1,t.x.required)),this.subscriptionForm.addControl("paymentMethod",new t.g(null,t.x.required)),this._addControl("courses",this.courses,!1),this._addControl("workshops",this.workshops,!1)}onSubmit(){this.isLoading=!0,this.hideForm=!0;const e=this.subscriptionForm.value.courses.map((e,o)=>e?this.courses[o].name:null).filter(e=>null!==e),o=this.subscriptionForm.value.workshops.map((e,o)=>e?this.workshops[o].date:null).filter(e=>null!==e),i=this.subscriptionForm.value;i.courses=e,i.workshops=o,this.subscriptionService.createMember(i).subscribe(e=>{this.isLoading=!1,this.formSentSuccess=!0,this.subscriptionForm.reset()},e=>{this.isLoading=!1,this.formSentFail=!0})}toggleShowDiscountText(e){this.isPreviouslyEnrolled=e,e?this.subscriptionForm.addControl("previousCourseInfo",new t.g(null)):this.subscriptionForm.removeControl("previousCourseInfo")}onReload(){location.reload()}_addControl(e,o,i){o.forEach(()=>{this.subscriptionForm.controls[e].push(new t.g(null))})}}return e.\u0275fac=function(o){return new(o||e)(b.Mb(l.a))},e.\u0275cmp=b.Gb({type:e,selectors:[["app-pre-subscription"]],decls:15,vars:4,consts:[[1,"ion-no-padding"],[1,"no-padding"],[1,"ion-padding-vertical"],[1,"form__container"],["name","crescent",4,"ngIf"],["class","form__response",4,"ngIf"],["class","subscription-form",3,"formGroup","ngSubmit",4,"ngIf"],["name","crescent"],[1,"form__response"],["type","button","color","primary",3,"click"],[1,"subscription-form",3,"formGroup","ngSubmit"],[1,"form-section"],[1,"form-section__title"],[1,"form-section__content"],["position","floating"],["type","text","name","lastName","formControlName","lastName","required",""],[1,"error-message",3,"ngClass"],["type","text","name","firstName","formControlName","firstName","required",""],["type","text","name","phone","formControlName","phone","required",""],["type","email","name","email","formControlName","email","required",""],["formArrayName","courses"],["lines","none",4,"ngFor","ngForOf"],[1,"form-section__content","form-section__content-price"],["lines","none"],["lines","none",1,"slide-toggle__section"],[1,"slide-toggle__container"],["formControlName","previouslyEnrolled",1,"slide-toggle__input",3,"ionChange"],[3,"color"],[4,"ngIf"],["aria-label","Selectionnez un mode de paiement","formControlName","paymentMethod",1,"radio-group"],["type","submit","color","primary",1,"submit-btn",3,"disabled"],["slot","start",3,"formControlName"],[1,"color-primary","italic"],[1,"previous-course-detail"],["name","previousCouseInfo","formControlName","previousCourseInfo"],["slot","start",3,"value"]],template:function(e,o){1&e&&(b.Rb(0,"ion-content"),b.Rb(1,"ion-grid",0),b.Rb(2,"ion-row"),b.Rb(3,"ion-col",1),b.Rb(4,"h1"),b.Ac(5," Formulaire de pr\xe9-inscription "),b.Nb(6,"br"),b.Ac(7," La Cl\xe9 Du Quai saison 2020/2021 "),b.Qb(),b.Qb(),b.Qb(),b.Rb(8,"ion-row"),b.Rb(9,"ion-col",2),b.Rb(10,"ion-card",3),b.yc(11,d,1,0,"ion-spinner",4),b.yc(12,u,16,0,"div",5),b.yc(13,p,5,0,"div",5),b.yc(14,R,82,10,"form",6),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.Bb(11),b.kc("ngIf",o.isLoading),b.Bb(1),b.kc("ngIf",o.formSentSuccess),b.Bb(1),b.kc("ngIf",o.formSentFail),b.Bb(1),b.kc("ngIf",!o.isLoading&&!o.hideForm))},directives:[r.n,r.p,r.F,r.m,r.h,n.m,r.I,r.f,t.y,t.s,t.k,r.t,r.u,m.a,r.s,r.Z,t.r,t.i,t.w,n.k,r.v,t.f,r.w,n.l,r.M,r.a,r.P,r.C,r.Y,r.l,r.N,r.B,r.W],styles:['@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap");@import url("https://fonts.googleapis.com/css2?family=Oswald&display=swap");h1[_ngcontent-%COMP%]{padding:1rem;text-align:center;background:#5dbeba;color:#fff;font-family:Poppins,Roboto,sans-serif}@media (min-width:768px){h1[_ngcontent-%COMP%]{padding:3rem}}.form__container[_ngcontent-%COMP%]{max-width:768px;margin:0 auto;min-height:450px}.form__container[_ngcontent-%COMP%], .form__response[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.form__response[_ngcontent-%COMP%]{flex-flow:column}.form__response[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .form__response[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0 auto 2rem}.subscription-form[_ngcontent-%COMP%]{align-items:center}.form-section[_ngcontent-%COMP%], .subscription-form[_ngcontent-%COMP%]{display:flex;flex-flow:column;justify-content:center;width:100%}.form-section[_ngcontent-%COMP%]{margin:0 auto 1rem}.form-section__title[_ngcontent-%COMP%]{width:100%;padding:.5rem 0 .5rem 1rem;background:#5dbeba;color:#fff}.form-section__content[_ngcontent-%COMP%]{padding:0;display:flex;flex-flow:column}@media (min-width:768px){.form-section__content[_ngcontent-%COMP%]{padding:0 0 0 3rem}}@media (min-width:768px){.form-section__content-price[_ngcontent-%COMP%]{padding:0 3rem}}.form-section__content-price[_ngcontent-%COMP%]   .previous-course-toggle[_ngcontent-%COMP%]{margin:0 0 0 1rem}.form-section__content-price[_ngcontent-%COMP%]   .previous-course-detail[_ngcontent-%COMP%]{width:100%;max-width:300px}.slide-toggle__section[_ngcontent-%COMP%]{display:flex;flex-flow:column}.slide-toggle__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding:0 0 0 1rem}.submit-btn[_ngcontent-%COMP%]{margin:1rem auto 2rem}']}),e})()},{path:"pre-inscription",redirectTo:"",pathMatch:"full"}];let v=(()=>{class e{}return e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({factory:function(o){return new(o||e)},imports:[[s.k.forChild(Q)],s.k]}),e})();var C=i("ox1a");let _=(()=>{class e{}return e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({factory:function(o){return new(o||e)},imports:[[n.b,t.v,r.R,v,C.a]]}),e})()}}]);