(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{egi8:function(e,i,n){"use strict";n.r(i),n.d(i,"ResidencePageModule",function(){return C});var r=n("ofXK"),o=n("3Pt+"),t=n("TEn/"),s=n("tyNb");function a(e=1){return function(i){let n=0;return Object.keys(i.controls).forEach(e=>{!0===i.controls[e].value&&n++}),n<e?{requireOneCheckboxToBeChecked:!0}:null}}var c=n("fXoL"),l=n("AytR"),b=n("tk/3");let d=(()=>{class e{constructor(e){this.http=e,this.RESIDENCE_URL=l.a.apiUrl+"/residence"}postResidenceForm(e){return console.log("residence service:",e),this.http.post(this.RESIDENCE_URL,e)}}return e.\u0275fac=function(i){return new(i||e)(c.Vb(b.b))},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=n("TTZi"),u=n("o7am");function p(e,i){1&e&&c.Nb(0,"loader")}function g(e,i){1&e&&(c.Rb(0,"div",10),c.Rb(1,"p"),c.Ac(2,"Votre message n'a pas pu \xeatre envoy\xe9. Veuillez r\xe9essayer."),c.Qb(),c.Qb())}function f(e,i){if(1&e){const e=c.Sb();c.Rb(0,"div",11),c.Rb(1,"p"),c.Ac(2," Merci, votre demande a bien \xe9t\xe9 envoy\xe9e. Nous vous r\xe9pondrons le plus t\xf4t possible. "),c.Qb(),c.Rb(3,"div",12),c.Rb(4,"ion-button",13),c.Zb("click",function(){return c.qc(e),c.dc().onNavigateHome()}),c.Ac(5),c.Qb(),c.Qb(),c.Qb()}if(2&e){const e=c.dc();c.Bb(5),c.Bc(e.HOME_BTN_TEXT)}}function h(e,i){if(1&e&&(c.Rb(0,"ion-item",37),c.Rb(1,"ion-label"),c.Ac(2),c.Qb(),c.Nb(3,"ion-radio",38),c.Qb()),2&e){const e=i.$implicit;c.Bb(2),c.Bc(e),c.Bb(1),c.jc("value",e)}}function v(e,i){if(1&e&&(c.Rb(0,"ion-item",37),c.Rb(1,"ion-label"),c.Ac(2),c.Qb(),c.Nb(3,"ion-checkbox",39),c.Qb()),2&e){const e=i.index,n=c.dc(2);c.Bb(2),c.Bc(n.artisticPractices[e]),c.Bb(1),c.jc("formControlName",e)}}function R(e,i){if(1&e){const e=c.Sb();c.Rb(0,"ion-button",42),c.Zb("click",function(i){c.qc(e);const n=c.dc().index;return c.dc(2).onRemoveTeamMember(i,n)}),c.Rb(1,"ion-label"),c.Ac(2,"Supprimer"),c.Qb(),c.Nb(3,"ion-icon",43),c.Qb()}}function Q(e,i){if(1&e&&(c.Rb(0,"div"),c.Rb(1,"ion-item"),c.Rb(2,"ion-label",15),c.Ac(3,"Nom, pr\xe9nom et fonction "),c.Qb(),c.Nb(4,"ion-input",40),c.Qb(),c.Rb(5,"p",17),c.Ac(6," Veuillez renseigner les informations "),c.Qb(),c.yc(7,R,4,0,"ion-button",41),c.Qb()),2&e){const e=i.$implicit,n=i.index,r=c.dc(2);c.Bb(4),c.jc("formControlName",n),c.Bb(1),c.jc("ngClass",e.invalid&&e.touched?"show-error":""),c.Bb(2),c.jc("ngIf",r.projectTeamFormArray.controls.length>1)}}function N(e,i){if(1&e&&(c.Rb(0,"ion-item",37),c.Rb(1,"ion-label"),c.Ac(2),c.Qb(),c.Nb(3,"ion-checkbox",39),c.Qb()),2&e){const e=i.index,n=c.dc(2);c.Bb(2),c.Bc(n.availabilities[e]),c.Bb(1),c.jc("formControlName",e)}}function F(e,i){1&e&&c.Nb(0,"ion-icon",44)}function y(e,i){1&e&&c.Nb(0,"loader")}function A(e,i){if(1&e){const e=c.Sb();c.Rb(0,"form",14),c.Zb("ngSubmit",function(){return c.qc(e),c.dc().onSubmit()}),c.Rb(1,"ion-item"),c.Rb(2,"ion-label",15),c.Ac(3,"Nom du projet"),c.Qb(),c.Nb(4,"ion-input",16),c.Qb(),c.Rb(5,"p",17),c.Ac(6," Veuillez renseigner un nom de projet "),c.Qb(),c.Rb(7,"ion-item"),c.Rb(8,"ion-label",15),c.Ac(9,"Nom de la compagnie"),c.Qb(),c.Nb(10,"ion-input",18),c.Qb(),c.Rb(11,"p",17),c.Ac(12," Veuillez renseigner le nom de la compagnie "),c.Qb(),c.Rb(13,"ion-item"),c.Rb(14,"ion-label",15),c.Ac(15,"Nom de la personne qui g\xe8re cette candidature"),c.Qb(),c.Nb(16,"ion-input",19),c.Qb(),c.Rb(17,"p",17),c.Ac(18," Veuillez renseigner votre nom "),c.Qb(),c.Rb(19,"ion-item"),c.Rb(20,"ion-label",15),c.Ac(21,"E-mail"),c.Qb(),c.Nb(22,"ion-input",20),c.Qb(),c.Rb(23,"p",17),c.Ac(24," Veuillez renseigner votre email "),c.Qb(),c.Rb(25,"ion-item"),c.Rb(26,"ion-label",15),c.Ac(27,"T\xe9l\xe9phone"),c.Qb(),c.Nb(28,"ion-input",21),c.Qb(),c.Rb(29,"p",17),c.Ac(30," Veuillez renseigner un num\xe9ro de t\xe9l\xe9phone "),c.Qb(),c.Rb(31,"ion-item"),c.Rb(32,"ion-label",15),c.Ac(33,"Adresse de gestion de la structure"),c.Qb(),c.Nb(34,"ion-input",22),c.Qb(),c.Rb(35,"p",17),c.Ac(36," Veuillez renseigner une adresse "),c.Qb(),c.Rb(37,"div",23),c.Rb(38,"ion-list"),c.Rb(39,"ion-radio-group",24),c.Rb(40,"ion-list-header"),c.Rb(41,"ion-label"),c.Ac(42,"Vous \xeates install\xe9 dans quel coin ?"),c.Qb(),c.Qb(),c.yc(43,h,4,2,"ion-item",25),c.Qb(),c.Qb(),c.Qb(),c.Rb(44,"div",23),c.Rb(45,"ion-list",26),c.Rb(46,"ion-list-header"),c.Rb(47,"ion-label"),c.Ac(48,"Votre pratique artistique"),c.Qb(),c.Qb(),c.yc(49,v,4,2,"ion-item",25),c.Qb(),c.Qb(),c.Rb(50,"ion-item"),c.Rb(51,"ion-label",15),c.Ac(52,"Quelques mots sur votre projet ?"),c.Qb(),c.Nb(53,"ion-input",27),c.Qb(),c.Rb(54,"p",17),c.Ac(55," Veuillez renseigner une description "),c.Qb(),c.Rb(56,"ion-label"),c.Ac(57,"De qui l'\xe9quipe sera-t-elle constitu\xe9e?"),c.Qb(),c.Rb(58,"div",28),c.yc(59,Q,8,3,"div",29),c.Rb(60,"ion-button",30),c.Zb("click",function(){return c.qc(e),c.dc().onAddTeamMember()}),c.Rb(61,"ion-label"),c.Ac(62,"Ajouter un membre d'\xe9quipe"),c.Qb(),c.Nb(63,"ion-icon",31),c.Qb(),c.Qb(),c.Rb(64,"div",23),c.Rb(65,"ion-list",32),c.Rb(66,"ion-list-header"),c.Rb(67,"ion-label",33),c.Ac(68,"Sur quelles p\xe9riodes \xeates-vous disponibles pour travailler chez nous ?"),c.Qb(),c.Qb(),c.yc(69,N,4,2,"ion-item",25),c.Qb(),c.Rb(70,"p",17),c.Ac(71," Veuillez renseigner une disponibilit\xe9 "),c.Qb(),c.Qb(),c.Rb(72,"ion-item"),c.Rb(73,"ion-label",15),c.Ac(74," Un lien vid\xe9o vers un projet actuel ou pass\xe9 que vous pouvez nous partager ?"),c.Nb(75,"br"),c.Ac(76," Vous avez un site internet qu'on peut visiter ?"),c.Nb(77,"br"),c.Ac(78," Et des partenaires ou soutiens (institutionnels ou autres...) ? "),c.Qb(),c.Nb(79,"ion-textarea",34),c.Qb(),c.Rb(80,"p",17),c.Ac(81," Veuillez renseigner des informations "),c.Qb(),c.Rb(82,"div",12),c.Rb(83,"ion-button",35),c.yc(84,F,1,0,"ion-icon",36),c.yc(85,y,1,0,"loader",6),c.Ac(86),c.Qb(),c.Qb(),c.Qb()}if(2&e){const e=c.dc();c.jc("formGroup",e.residenceForm),c.Bb(5),c.jc("ngClass",e.residenceForm.get("projectName").invalid&&e.residenceForm.get("projectName").touched?"show-error":""),c.Bb(6),c.jc("ngClass",e.residenceForm.get("companyName").invalid&&e.residenceForm.get("companyName").touched?"show-error":""),c.Bb(6),c.jc("ngClass",e.residenceForm.get("managerName").invalid&&e.residenceForm.get("managerName").touched?"show-error":""),c.Bb(6),c.jc("ngClass",e.residenceForm.get("email").invalid&&e.residenceForm.get("email").touched?"show-error":""),c.Bb(6),c.jc("ngClass",e.residenceForm.get("phone").invalid&&e.residenceForm.get("phone").touched?"show-error":""),c.Bb(6),c.jc("ngClass",e.residenceForm.get("address").invalid&&e.residenceForm.get("address").touched?"show-error":""),c.Bb(4),c.jc("value",e.locations[0]),c.Bb(4),c.jc("ngForOf",e.locations),c.Bb(6),c.jc("ngForOf",e.artisticPracticeFormArray.controls),c.Bb(5),c.jc("ngClass",e.residenceForm.get("projectDescription").invalid&&e.residenceForm.get("projectDescription").touched?"show-error":""),c.Bb(5),c.jc("ngForOf",e.projectTeamFormArray.controls),c.Bb(10),c.jc("ngForOf",e.availabilityFormArray.controls),c.Bb(1),c.jc("ngClass",e.residenceForm.get("availability").invalid&&e.residenceForm.get("availability").touched?"show-error":""),c.Bb(10),c.jc("ngClass",e.residenceForm.get("extraInfo").invalid&&e.residenceForm.get("extraInfo").touched?"show-error":""),c.Bb(3),c.jc("disabled",e.residenceForm.invalid||e.isLoading),c.Bb(1),c.jc("ngIf",!e.isLoading),c.Bb(1),c.jc("ngIf",e.isLoading),c.Bb(1),c.Cc(" ",e.SEND_BUTTON_TEXT," ")}}const j=[{path:"",component:(()=>{class e{constructor(e,i){this.residenceService=e,this.router=i,this.isLoading=!1,this.hideForm=!1,this.isFormSent=!1,this.isFormFailed=!1,this.locations=["Bordeaux M\xe9tropole","R\xe9gion Nouvelle-Aquitaine","France","Au-del\xe0..."],this.artisticPractices=["Danse contemporaine","Th\xe9\xe2tre","Danse - th\xe9\xe2tre","Autre"],this.availabilities=["du 11 au 15 janvier","du 8 au 12 f\xe9vrier","du 8 au 12 mars","du 12 au 16 avril","du 10 au 14 mai","du 31 mai au 4 juin"],this.HEADER_TITLE="Accueil en r\xe9sidence",this.SEND_BUTTON_TEXT="Envoyer",this.HOME_BTN_TEXT="Accueil",this.RELOAD="R\xe9essayer"}ngOnInit(){this._initContactForm()}ionViewDidLeave(){this.residenceForm.reset(),this.isLoading=!1,this.hideForm=!1,this.isFormSent=!1,this.isFormFailed=!1}onSubmit(){if(this.residenceForm.invalid)return;this.isLoading=!0;const e=this.residenceForm.value.artisticPractice.map((e,i)=>e?this.artisticPractices[i]:null).filter(e=>null!==e),i=this.residenceForm.value.availability.map((e,i)=>e?this.availabilities[i]:null).filter(e=>null!==e),n=this.residenceForm.value;n.availability=i,n.artisticPractice=e,this.residenceService.postResidenceForm(n).subscribe(e=>{this.isLoading=!1,this.isFormSent=!0,this.hideForm=!0,this.residenceForm.reset()},e=>{this.isLoading=!1,this.isFormFailed=!0})}onNavigateHome(){this.isLoading=!1,this.isFormSent=!1,this.isFormFailed=!1,this.residenceForm.reset(),this.router.navigateByUrl("/lcdq/accueil")}onReload(){location.reload()}onAddTeamMember(){this.residenceForm.get("projectTeam").push(new o.g(null,o.w.required))}onRemoveTeamMember(e,i){this.residenceForm.get("projectTeam").removeAt(i)}get projectTeamFormArray(){return this.residenceForm.get("projectTeam")}get artisticPracticeFormArray(){return this.residenceForm.get("artisticPractice")}get availabilityFormArray(){return this.residenceForm.get("availability")}_initContactForm(){this.residenceForm=new o.j({projectName:new o.g(null,o.w.required),companyName:new o.g(null,o.w.required),managerName:new o.g(null,o.w.required),email:new o.g(null,[o.w.required,o.w.email]),phone:new o.g(null,o.w.required),address:new o.g(null,o.w.required),location:new o.g(null,o.w.required),projectDescription:new o.g(null,o.w.required),extraInfo:new o.g(null,o.w.required),projectTeam:new o.e([new o.g(null,o.w.required)],o.w.required),artisticPractice:new o.e([],a()),availability:new o.e([],a())}),this._addControl("artisticPractice",this.artisticPractices),this._addControl("availability",this.availabilities)}_addControl(e,i){const n=this.residenceForm.controls[e];i.forEach(()=>{n.push(new o.g(null))})}}return e.\u0275fac=function(i){return new(i||e)(c.Mb(d),c.Mb(s.g))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-residence"]],decls:32,vars:5,consts:[[3,"headerTitle"],["size","12","size-sm","6","offset-sm","3"],["color","primary heading"],[1,"row"],["size","12","size-sm","6","offset-sm","3",1,"ion-no-padding"],[1,"ion-no-margin"],[4,"ngIf"],["class","message-sent--fail",4,"ngIf"],["class","message-sent--success",4,"ngIf"],["class","residence-form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"message-sent--fail"],[1,"message-sent--success"],[1,"btn__container"],[3,"click"],[1,"residence-form",3,"formGroup","ngSubmit"],["position","floating"],["type","text","name","projectName","formControlName","projectName","required",""],[1,"error-message",3,"ngClass"],["type","text","name","companyName","formControlName","companyName","required",""],["type","text","name","managerName","formControlName","managerName","required",""],["type","email","name","email","formControlName","email","required",""],["type","text","name","phone","formControlName","phone","required",""],["type","text","name","address","formControlName","address","required",""],[1,"form-control","radio-container"],["aria-label","R\xe9gion","formControlName","location",1,"radio-group",3,"value"],["lines","none",4,"ngFor","ngForOf"],["formArrayName","artisticPractice"],["type","text","name","projectDescription","formControlName","projectDescription","required",""],["formArrayName","projectTeam"],[4,"ngFor","ngForOf"],["size","small",3,"click"],["slot","start","name","add-outline"],["formArrayName","availability"],[1,"label"],["name","extraInfo","formControlName","extraInfo","required",""],["type","submit","color","primary",1,"ion-margin-vertical",3,"disabled"],["slot","start","name","paper-plane-outline",4,"ngIf"],["lines","none"],["slot","start",3,"value"],["slot","start",3,"formControlName"],["type","text","name","projectTeam","required","",3,"formControlName"],["fill","clear","size","small",3,"click",4,"ngIf"],["fill","clear","size","small",3,"click"],["name","close-outline"],["slot","start","name","paper-plane-outline"]],template:function(e,i){1&e&&(c.Nb(0,"ion-header-component",0),c.Rb(1,"ion-content"),c.Rb(2,"ion-grid"),c.Rb(3,"ion-row"),c.Rb(4,"ion-col",1),c.Rb(5,"ion-text",2),c.Rb(6,"h1"),c.Ac(7,"Demande de r\xe9sidence artisitique"),c.Qb(),c.Qb(),c.Rb(8,"p"),c.Ac(9," Pour les artistes et compagnies du spectacle vivant, plus sp\xe9cifiquement en danse contemporaine et en th\xe9\xe2tre, en priorit\xe9 aux compagnies et artistes install\xe9s dans la r\xe9gion bordelaise."),c.Nb(10,"br"),c.Ac(11," Accueil en r\xe9sidence pendant 5 jours, du lundi au vendredi, 9h \xe0 16h."),c.Nb(12,"br"),c.Ac(13," Possibilit\xe9 d\u2019accompagnement artistique avec les membres de la Cie Bela & C\xf4me - Bela Balsa et C\xf4me Tanguy. "),c.Nb(14,"br"),c.Ac(15," Pr\xe9sentation en fin de semaine aupr\xe8s d\u2019un public restreint d\u2019une \xe9tape de travail, extrait, lecture, selon l\u2019envie des artistes."),c.Nb(16,"br"),c.Ac(17," L\u2019espace de travail est de 50m2 et ne permet pas d\u2019accueillir de grands groupes."),c.Nb(18,"br"),c.Ac(19," Pas de technique lumi\xe8re. Possibilit\xe9 de stocker, le temps de la r\xe9sidence, une tr\xe8s petite quantit\xe9 de mat\xe9riel. "),c.Qb(),c.Qb(),c.Qb(),c.Rb(20,"ion-row",3),c.Rb(21,"ion-col",1),c.Rb(22,"div"),c.Ac(23," Merci de compl\xe9ter le formulaire pour que nous commencions \xe0 faire connaissance. Si vous ne disposez pas de certains \xe9l\xe9ments ou si nos questions ne correspondent pas du tout \xe0 ce que vous faites, pas de soucis, adaptez... Rien n'est d\xe9finitif ni exhaustif. "),c.Qb(),c.Qb(),c.Qb(),c.Rb(24,"ion-row",3),c.Rb(25,"ion-col",4),c.Rb(26,"ion-card",5),c.Rb(27,"ion-card-content"),c.yc(28,p,1,0,"loader",6),c.yc(29,g,3,0,"div",7),c.yc(30,f,6,1,"div",8),c.yc(31,A,87,19,"form",9),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&e&&(c.jc("headerTitle",i.HEADER_TITLE),c.Bb(28),c.jc("ngIf",i.isLoading),c.Bb(1),c.jc("ngIf",!i.isLoading&&i.isFormFailed&&!i.isFormSent),c.Bb(1),c.jc("ngIf",!i.isLoading&&i.isFormSent),c.Bb(1),c.jc("ngIf",!i.isLoading&&!i.hideForm))},directives:[m.a,t.n,t.o,t.D,t.m,t.M,t.h,t.i,r.l,u.a,t.f,o.x,o.r,o.k,t.s,t.t,t.r,t.Y,o.q,o.i,o.v,r.j,t.u,t.B,t.X,t.v,r.k,o.f,t.q,t.N,t.A,t.V,t.l,t.a],styles:['@import url("https://fonts.googleapis.com/css2?family=Poppins&display=swap");.row[_ngcontent-%COMP%]{background:#5dbeba}.residence-form[_ngcontent-%COMP%]{max-width:320px;margin:0 auto}.btn__container[_ngcontent-%COMP%]{display:flex;justify-content:center}']}),e})()},{path:"residence",redirectTo:"",pathMatch:"full"}];let w=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(i){return new(i||e)},imports:[[s.j.forChild(j)],s.j]}),e})(),q=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(i){return new(i||e)},providers:[],imports:[[r.b,o.u,t.R]]}),e})();var B=n("PCNd");let C=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(i){return new(i||e)},imports:[[r.b,o.u,t.R,w,B.a,q]]}),e})()}}]);