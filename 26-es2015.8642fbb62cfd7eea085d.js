(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{FPIi:function(e,o,i){"use strict";i.r(o),i.d(o,"PreSubscriptionPageModule",function(){return _});var n=i("ofXK"),t=i("3Pt+"),r=i("TEn/"),s=i("tyNb"),a=i("xvI5"),c=i("DsUL"),l=i("fXoL"),b=i("HtUY"),m=i("wzJV");function u(e,o){1&e&&l.Ob(0,"ion-spinner",7)}function d(e,o){1&e&&(l.Sb(0,"div",8),l.Sb(1,"p"),l.zc(2," Merci beaucoup ! Votre pr\xe9-inscription a bien \xe9t\xe9 prise en compte. "),l.Rb(),l.Sb(3,"p"),l.zc(4,"Elle sera finalis\xe9e au moment de votre r\xe8glement."),l.Rb(),l.Sb(5,"ul"),l.Sb(6,"li"),l.zc(7,"- En CB : paiement au comptoir de l\u2019association"),l.Rb(),l.Sb(8,"li"),l.zc(9," - Par ch\xe8que : \xe0 d\xe9poser au comptoir lors de votre prochain passage "),l.Rb(),l.Sb(10,"li"),l.zc(11," - En esp\xe8ces : \xe0 d\xe9poser au comptoir lors de votre prochain passage "),l.Rb(),l.Rb(),l.Sb(12,"p"),l.zc(13,"A tr\xe8s bient\xf4t !"),l.Rb(),l.Sb(14,"p"),l.zc(15,"L\u2019\xe9quipe de La Cl\xe9 du Quai"),l.Rb(),l.Rb())}function p(e,o){if(1&e){const e=l.Tb();l.Sb(0,"div",8),l.Sb(1,"p"),l.zc(2,"D\xe9sol\xe9, une erreur s'est produite. Veuillez r\xe9essayer."),l.Rb(),l.Sb(3,"ion-button",9),l.ac("click",function(){return l.rc(e),l.ec().onReload()}),l.zc(4," S'inscrire "),l.Rb(),l.Rb()}}function h(e,o){if(1&e&&(l.Sb(0,"ion-item",23),l.Sb(1,"ion-label"),l.zc(2),l.Rb(),l.Ob(3,"ion-checkbox",31),l.Rb()),2&e){const e=o.index,i=l.ec(2);l.Cb(2),l.Ac(i.courses[e].detail),l.Cb(1),l.lc("formControlName",e)}}function f(e,o){1&e&&(l.Sb(0,"div"),l.Sb(1,"p",32),l.zc(2," Vous b\xe9n\xe9ficiez, en tant qu\u2019ancien \xe9l\xe8ve, d\u2019une r\xe9duction de 10% sur le montant de l\u2019inscription aux cours hebdomadaires. "),l.Rb(),l.Sb(3,"ion-item",33),l.Sb(4,"ion-label",14),l.zc(5,"A quel atelier \xe9tiez-vous inscrit ?"),l.Ob(6,"atom-asterisk"),l.Rb(),l.Ob(7,"ion-textarea",34),l.Rb(),l.Rb())}function g(e,o){if(1&e&&(l.Sb(0,"ion-item",23),l.Sb(1,"ion-label"),l.zc(2),l.Rb(),l.Ob(3,"ion-radio",35),l.Rb()),2&e){const e=o.$implicit;l.Cb(2),l.Bc(" ",e," "),l.Cb(1),l.lc("value",e)}}function S(e,o){if(1&e){const e=l.Tb();l.Sb(0,"form",10),l.ac("ngSubmit",function(){return l.rc(e),l.ec().onSubmit()}),l.Sb(1,"div",11),l.Sb(2,"p",12),l.zc(3,"Informations"),l.Rb(),l.Sb(4,"div",13),l.Sb(5,"ion-item"),l.Sb(6,"ion-label",14),l.zc(7,"Nom"),l.Ob(8,"atom-asterisk"),l.Rb(),l.Ob(9,"ion-input",15),l.Rb(),l.Sb(10,"p",16),l.zc(11," Veuillez renseigner votre nom "),l.Rb(),l.Sb(12,"ion-item"),l.Sb(13,"ion-label",14),l.zc(14,"Pr\xe9nom"),l.Ob(15,"atom-asterisk"),l.Rb(),l.Ob(16,"ion-input",17),l.Rb(),l.Sb(17,"p",16),l.zc(18," Veuillez renseigner votre pr\xe9nom "),l.Rb(),l.Sb(19,"ion-item"),l.Sb(20,"ion-label",14),l.zc(21,"T\xe9l\xe9phone"),l.Ob(22,"atom-asterisk"),l.Rb(),l.Ob(23,"ion-input",18),l.Rb(),l.Sb(24,"p",16),l.zc(25," Veuillez renseigner votre num\xe9ro de t\xe9l\xe9phone "),l.Rb(),l.Sb(26,"ion-item"),l.Sb(27,"ion-label",14),l.zc(28,"Email"),l.Ob(29,"atom-asterisk"),l.Rb(),l.Ob(30,"ion-input",19),l.Rb(),l.Sb(31,"p",16),l.zc(32," Veuillez renseigner votre email "),l.Rb(),l.Rb(),l.Rb(),l.Sb(33,"div",11),l.Sb(34,"p",12),l.zc(35,"Cours"),l.Rb(),l.Sb(36,"div",13),l.Sb(37,"ion-list",20),l.Sb(38,"ion-list-header"),l.Sb(39,"ion-label"),l.zc(40," Choisissez un cours"),l.Ob(41,"atom-asterisk"),l.Rb(),l.Rb(),l.xc(42,h,4,2,"ion-item",21),l.Rb(),l.Rb(),l.Rb(),l.Sb(43,"div",11),l.Sb(44,"p",12),l.zc(45,"Tarifs"),l.Rb(),l.Sb(46,"div",22),l.Sb(47,"ion-list"),l.Sb(48,"ion-list-header"),l.Sb(49,"ion-label"),l.zc(50,"Tarifs annuels pour les cours hebdomadaires :"),l.Rb(),l.Rb(),l.Sb(51,"ion-item",23),l.Sb(52,"ion-label"),l.zc(53,"- 1 cours/ semaine (2h) / 350\u20ac"),l.Rb(),l.Rb(),l.Sb(54,"ion-item",23),l.Sb(55,"ion-label"),l.zc(56,"- 2 cours/ semaine (2h + 2h) / 630\u20ac"),l.Rb(),l.Rb(),l.Sb(57,"ion-item",23),l.Sb(58,"ion-label"),l.zc(59,"- Cie Amateur (2h30) / 400\u20ac"),l.Rb(),l.Rb(),l.Rb(),l.Sb(60,"ion-item",24),l.Sb(61,"ion-label"),l.zc(62," Etiez-vous inscrit \xe0 un atelier aupr\xe8s de La Cl\xe9 du Quai l\u2019ann\xe9e derni\xe8re ?"),l.Rb(),l.Rb(),l.Sb(63,"div",25),l.Sb(64,"ion-text"),l.zc(65,"Non"),l.Rb(),l.Sb(66,"ion-toggle",26),l.ac("ionChange",function(o){return l.rc(e),l.ec().toggleShowDiscountText(o.detail.checked)}),l.Rb(),l.Sb(67,"ion-text",27),l.zc(68,"Oui"),l.Rb(),l.Rb(),l.xc(69,f,8,0,"div",28),l.Rb(),l.Rb(),l.Sb(70,"div",11),l.Sb(71,"p",12),l.zc(72,"Mode de paiement"),l.Rb(),l.Sb(73,"div",13),l.Sb(74,"ion-radio-group",29),l.Sb(75,"ion-list-header"),l.Sb(76,"ion-label"),l.zc(77,"Quel est votre mode de paiement favori ?"),l.Ob(78,"atom-asterisk"),l.Rb(),l.Rb(),l.xc(79,g,4,2,"ion-item",21),l.Rb(),l.Rb(),l.Rb(),l.Sb(80,"ion-button",30),l.zc(81," Valider "),l.Rb(),l.Rb()}if(2&e){const e=l.ec();l.lc("formGroup",e.subscriptionForm),l.Cb(10),l.lc("ngClass",e.subscriptionForm.get("lastName").invalid&&e.subscriptionForm.get("lastName").touched?"show-error":""),l.Cb(7),l.lc("ngClass",e.subscriptionForm.get("firstName").invalid&&e.subscriptionForm.get("firstName").touched?"show-error":""),l.Cb(7),l.lc("ngClass",e.subscriptionForm.get("phone").invalid&&e.subscriptionForm.get("phone").touched?"show-error":""),l.Cb(7),l.lc("ngClass",e.subscriptionForm.get("email").invalid&&e.subscriptionForm.get("email").touched?"show-error":""),l.Cb(11),l.lc("ngForOf",e.coursesFormArray.controls),l.Cb(25),l.lc("color",e.isPreviouslyEnrolled?"primary":""),l.Cb(2),l.lc("ngIf",e.isPreviouslyEnrolled),l.Cb(10),l.lc("ngForOf",e.paymentMethods),l.Cb(1),l.lc("disabled",e.subscriptionForm.invalid)}}const C=[{path:"",component:(()=>{class e{constructor(e){this.subscriptionService=e,this.isLoading=!1,this.formSentSuccess=!1,this.formSentFail=!1,this.hideForm=!1,this.isPreviouslyEnrolled=!1,this.subscriptionForm=new t.j({}),this.paymentMethods=[a.a.FIRST,a.a.SECOND,a.a.THIRD],this.courses=[{id:"1",detail:"Lundi 18h30-20h30 : Th\xe9\xe2tre avec J\xe9r\xf4me Chambon",name:"lundi 18h30"},{id:"2",detail:"Lundi 20h30-22h30 : Th\xe9\xe2tre avec J\xe9r\xf4me Chambon",name:"lundi 20h30"},{id:"3",detail:"Mardi 18h30-20h30 : Danse contemporaine et improvisation avec C\xf4me Tanguy",name:"mardi 18h30"},{id:"4",detail:"Mardi 20h30-23h : Cie Amateur avec C\xf4me Tanguy (danse-th\xe9\xe2tre)",name:"mardi 20h30"},{id:"5",detail:"Mercredi 18h30-20h30 : Danse-th\xe9\xe2tre avec C\xf4me Tanguy",name:"mercredi 18h30"},{id:"6",detail:"Mercredi 20h30-22h30 : Danse contemporaine et improvisation avec C\xf4me Tanguy",name:"mercredi 20h30"},{id:"7",detail:"Jeudi 18h30-20h30 : Th\xe9\xe2tre avec Laurine Clochard et Juliette Morin",name:"jeudi 18h30"},{id:"8",detail:"Jeudi 20h30-22h30 : Th\xe9\xe2tre avec Julie Hercberg",name:"jeudi 20h30"}],this.workshops=[{id:"nov7",date:"7 novembre"},{id:"dec5",date:"5 d\xe9cembre"},{id:"jan16",date:"16 janvier"},{id:"fev6",date:"6 f\xe9vrier"},{id:"mar6",date:"6 mars"},{id:"apr17",date:"17 avril"},{id:"may15",date:"15 mai"}]}get coursesFormArray(){return this.subscriptionForm.get("courses")}get workshopsFormArray(){return this.subscriptionForm.get("workshops")}ngOnInit(){this.subscriptionForm.addControl("lastName",new t.g(null,t.x.required)),this.subscriptionForm.addControl("firstName",new t.g(null,t.x.required)),this.subscriptionForm.addControl("phone",new t.g(null,t.x.required)),this.subscriptionForm.addControl("email",new t.g(null,[t.x.required,t.x.email])),this.subscriptionForm.addControl("courses",new t.e([],Object(c.a)())),this.subscriptionForm.addControl("workshops",new t.e([])),this.subscriptionForm.addControl("previouslyEnrolled",new t.g(!1,t.x.required)),this.subscriptionForm.addControl("paymentMethod",new t.g(null,t.x.required)),this._addControl("courses",this.courses,!1),this._addControl("workshops",this.workshops,!1)}onSubmit(){this.isLoading=!0,this.hideForm=!0;const e=this.subscriptionForm.value.courses.map((e,o)=>e?this.courses[o].name:null).filter(e=>null!==e),o=this.subscriptionForm.value.workshops.map((e,o)=>e?this.workshops[o].date:null).filter(e=>null!==e),i=this.subscriptionForm.value;i.courses=e,i.workshops=o,this.subscriptionService.createMember(i).subscribe(e=>{this.isLoading=!1,this.formSentSuccess=!0,this.subscriptionForm.reset()},e=>{this.isLoading=!1,this.formSentFail=!0})}toggleShowDiscountText(e){this.isPreviouslyEnrolled=e,e?this.subscriptionForm.addControl("previousCourseInfo",new t.g(null)):this.subscriptionForm.removeControl("previousCourseInfo")}onReload(){location.reload()}_addControl(e,o,i){o.forEach(()=>{this.subscriptionForm.controls[e].push(new t.g(null))})}}return e.\u0275fac=function(o){return new(o||e)(l.Nb(b.a))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-pre-subscription"]],decls:15,vars:4,consts:[[1,"ion-no-padding"],[1,"no-padding"],[1,"ion-padding-vertical"],[1,"form__container"],["name","crescent",4,"ngIf"],["class","form__response",4,"ngIf"],["class","subscription-form",3,"formGroup","ngSubmit",4,"ngIf"],["name","crescent"],[1,"form__response"],["type","button","color","primary",3,"click"],[1,"subscription-form",3,"formGroup","ngSubmit"],[1,"form-section"],[1,"form-section__title"],[1,"form-section__content"],["position","floating"],["type","text","name","lastName","formControlName","lastName","required",""],[1,"error-message",3,"ngClass"],["type","text","name","firstName","formControlName","firstName","required",""],["type","text","name","phone","formControlName","phone","required",""],["type","email","name","email","formControlName","email","required",""],["formArrayName","courses"],["lines","none",4,"ngFor","ngForOf"],[1,"form-section__content","form-section__content-price"],["lines","none"],["lines","none",1,"slide-toggle__section"],[1,"slide-toggle__container"],["formControlName","previouslyEnrolled",1,"slide-toggle__input",3,"ionChange"],[3,"color"],[4,"ngIf"],["aria-label","Selectionnez un mode de paiement","formControlName","paymentMethod",1,"radio-group"],["type","submit","color","primary",1,"submit-btn",3,"disabled"],["slot","start",3,"formControlName"],[1,"color-primary","italic"],[1,"previous-course-detail"],["name","previousCouseInfo","formControlName","previousCourseInfo"],["slot","start",3,"value"]],template:function(e,o){1&e&&(l.Sb(0,"ion-content"),l.Sb(1,"ion-grid",0),l.Sb(2,"ion-row"),l.Sb(3,"ion-col",1),l.Sb(4,"h1"),l.zc(5," Formulaire de pr\xe9-inscription "),l.Ob(6,"br"),l.zc(7," La Cl\xe9 Du Quai saison 2020/2021 "),l.Rb(),l.Rb(),l.Rb(),l.Sb(8,"ion-row"),l.Sb(9,"ion-col",2),l.Sb(10,"ion-card",3),l.xc(11,u,1,0,"ion-spinner",4),l.xc(12,d,16,0,"div",5),l.xc(13,p,5,0,"div",5),l.xc(14,S,82,10,"form",6),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&e&&(l.Cb(11),l.lc("ngIf",o.isLoading),l.Cb(1),l.lc("ngIf",o.formSentSuccess),l.Cb(1),l.lc("ngIf",o.formSentFail),l.Cb(1),l.lc("ngIf",!o.isLoading&&!o.hideForm))},directives:[r.n,r.p,r.F,r.m,r.h,n.m,r.I,r.f,t.y,t.s,t.k,r.t,r.u,m.a,r.s,r.Z,t.r,t.i,t.w,n.k,r.v,t.f,r.w,n.l,r.M,r.a,r.P,r.C,r.Y,r.l,r.N,r.B,r.W],styles:['@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap");@import url("https://fonts.googleapis.com/css2?family=Oswald&display=swap");h1[_ngcontent-%COMP%]{padding:1rem;text-align:center;background:#5dbeba;color:#fff;font-family:Poppins,Roboto,sans-serif}@media (min-width:768px){h1[_ngcontent-%COMP%]{padding:3rem}}.form__container[_ngcontent-%COMP%]{max-width:768px;margin:0 auto;min-height:450px}.form__container[_ngcontent-%COMP%], .form__response[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.form__response[_ngcontent-%COMP%]{flex-flow:column}.form__response[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .form__response[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0 auto 2rem}.subscription-form[_ngcontent-%COMP%]{align-items:center}.form-section[_ngcontent-%COMP%], .subscription-form[_ngcontent-%COMP%]{display:flex;flex-flow:column;justify-content:center;width:100%}.form-section[_ngcontent-%COMP%]{margin:0 auto 1rem}.form-section__title[_ngcontent-%COMP%]{width:100%;padding:.5rem 0 .5rem 1rem;background:#5dbeba;color:#fff}.form-section__content[_ngcontent-%COMP%]{padding:0;display:flex;flex-flow:column}@media (min-width:768px){.form-section__content[_ngcontent-%COMP%]{padding:0 0 0 3rem}}@media (min-width:768px){.form-section__content-price[_ngcontent-%COMP%]{padding:0 3rem}}.form-section__content-price[_ngcontent-%COMP%]   .previous-course-toggle[_ngcontent-%COMP%]{margin:0 0 0 1rem}.form-section__content-price[_ngcontent-%COMP%]   .previous-course-detail[_ngcontent-%COMP%]{width:100%;max-width:300px}.slide-toggle__section[_ngcontent-%COMP%]{display:flex;flex-flow:column}.slide-toggle__container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding:0 0 0 1rem}.submit-btn[_ngcontent-%COMP%]{margin:1rem auto 2rem}']}),e})()},{path:"pre-inscription",redirectTo:"",pathMatch:"full"}];let R=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({imports:[[s.k.forChild(C)],s.k]}),e})();var v=i("ox1a");let _=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({imports:[[n.b,t.v,r.R,R,v.a]]}),e})()}}]);